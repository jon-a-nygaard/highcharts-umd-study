/**
 * @license Highcharts JS v4.1.9 (2015-10-07)
 *
 * (c) 2009-2014 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */

/**
 * Highcharts JS v4.1.9 (2015-10-07)
 * Highcharts module to hide overlapping data labels. This module is included by default in Highmaps.
 *
 * (c) 2010-2014 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */

(function(){function St(){var e,t=arguments,n,r={},i=function(e,t){var n,r;typeof e!="object"&&(e={});for(r in t)t.hasOwnProperty(r)&&(n=t[r],n&&typeof n=="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&r!=="renderTo"&&typeof n.nodeType!="number"?e[r]=i(e[r]||{},n):e[r]=t[r]);return e};t[0]===!0&&(r=t[1],t=Array.prototype.slice.call(t,2)),n=t.length;for(e=0;e<n;e++)r=i(r,t[e]);return r}function xt(e,t){return parseInt(e,t||10)}function Tt(e){return typeof e=="string"}function Nt(e){return e&&typeof e=="object"}function Ct(e){return Object.prototype.toString.call(e)==="[object Array]"}function kt(e){return typeof e=="number"}function Lt(e){return r.log(e)/r.LN10}function At(e){return r.pow(10,e)}function Ot(e,t){var n=e.length;while(n--)if(e[n]===t){e.splice(n,1);break}}function Mt(t){return t!==e&&t!==null}function _t(e,t,n){var r,i;if(Tt(t))Mt(n)?e.setAttribute(t,n):e&&e.getAttribute&&(i=e.getAttribute(t));else if(Mt(t)&&Nt(t))for(r in t)e.setAttribute(r,t[r]);return i}function Dt(e){return Ct(e)?e:[e]}function Ht(t,n){m&&!S&&n&&n.opacity!==e&&(n.filter="alpha(opacity="+n.opacity*100+")"),Et(t.style,n)}function Bt(e,n,r,i,s){var o=t.createElement(e);return n&&Et(o,n),s&&Ht(o,{padding:0,border:V,margin:0}),r&&Ht(o,r),i&&i.appendChild(o),o}function jt(t,n){var r=function(){return e};return r.prototype=new t,Et(r.prototype,n),r}function Ft(e,t){return(new Array((t||2)+1-String(e).length)).join(0)+e}function It(e,t){return/%$/.test(e)?t*parseFloat(e)/100:parseFloat(e)}function Rt(e){return(st&&st(e)||it||0)*6e4}function Ut(e,t){var n=/f$/,r=/\.([0-9])/,i=O.lang,s;return n.test(e)?(s=e.match(r),s=s?s[1]:-1,t!==null&&(t=wt.numberFormat(t,s,i.decimalPoint,e.indexOf(",")>-1?i.thousandsSep:""))):t=M(e,t),t}function zt(e,t){var n="{",r=!1,i,s,o,u,a,f=[],l,c;while((c=e.indexOf(n))!==-1){i=e.slice(0,c);if(r){s=i.split(":"),o=s.shift().split("."),a=o.length,l=t;for(u=0;u<a;u++)l=l[o[u]];s.length&&(l=Ut(s.join(":"),l)),f.push(l)}else f.push(i);e=e.slice(c+1),r=!r,n=r?"}":"{"}return f.push(e),f.join("")}function Wt(e){return r.pow(10,s(r.log(e)/r.LN10))}function Xt(e,t,n,r,i){var s,o,u=e;n=Pt(n,1),s=e/n,t||(t=[1,2,2.5,5,10],r===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(o=0;o<t.length;o++){u=t[o];if(i&&u*n>=e||!i&&s<=(t[o]+(t[o+1]||t[o]))/2)break}return u*=n,u}function Vt(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){return r=t(e,n),r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function $t(e){var t=e.length,n=e[0];while(t--)e[t]<n&&(n=e[t]);return n}function Jt(e){var t=e.length,n=e[0];while(t--)e[t]>n&&(n=e[t]);return n}function Kt(e,t){var n;for(n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function Qt(e){A||(A=Bt(I)),e&&A.appendChild(e),A.innerHTML=""}function Gt(e,t){var r="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw r;n.console&&console.log(r)}function Yt(e,t){return parseFloat(e.toPrecision(t||14))}function Zt(e,t){t.renderer.globalAnimation=Pt(e,t.animation)}function yn(){var e=O.global,t=e.useUTC,n=t?"getUTC":"get",r=t?"setUTC":"set";nt=e.Date||window.Date,it=t&&e.timezoneOffset,st=t&&e.getTimezoneOffset,rt=function(e,n,r,i,s,o){var u;return t?(u=nt.UTC.apply(0,arguments),u+=Rt(u)):u=(new nt(e,n,Pt(r,1),Pt(i,0),Pt(s,0),Pt(o,0))).getTime(),u},ot=n+"Minutes",ut=n+"Hours",at=n+"Day",ft=n+"Date",lt=n+"Month",ct=n+"FullYear",ht=r+"Milliseconds",pt=r+"Seconds",dt=r+"Minutes",vt=r+"Hours",mt=r+"Date",gt=r+"Month",yt=r+"FullYear"}function bn(e){return O=St(!0,O,e),yn(),O}function wn(){return O}function Nn(){}function _n(e,t,n,r){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!r&&this.addLabel()}function $n(e,t,n,r,i){var s=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.total=null,this.points={},this.stack=i,this.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:Pt(t.y,s?4:n?14:-6),x:Pt(t.x,s?n?-6:6:0)},this.textAlign=t.textAlign||(s?n?"right":"left":"center")}var e,t=document,n=window,r=Math,i=r.round,s=r.floor,o=r.ceil,u=r.max,a=r.min,f=r.abs,l=r.cos,c=r.sin,h=r.PI,p=h*2/360,d=navigator.userAgent,v=n.opera,m=/(msie|trident|edge)/i.test(d)&&!v,g=t.documentMode===8,y=!m&&/AppleWebKit/.test(d),b=/Firefox/.test(d),w=/(Mobile|Android|Windows Phone)/.test(d),E="http://www.w3.org/2000/svg",S=!!t.createElementNS&&!!t.createElementNS(E,"svg").createSVGRect,x=b&&parseInt(d.split("Firefox/")[1],10)<4,T=!S&&!m&&!!t.createElement("canvas").getContext,N,C,k={},L=0,A,O,M,_,D,P=function(){return e},H=[],B=0,j="Highcharts",F="4.1.9",I="div",q="absolute",R="relative",U="hidden",z="highcharts-",W="visible",X="px",V="none",$="M",J="L",K=/^[0-9]+$/,Q="",G="hover",Y="select",Z=["plotTop","marginRight","marginBottom","plotLeft"],et,tt="stroke-width",nt,rt,it,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt={},wt;wt=n.Highcharts=n.Highcharts?Gt(16,!0):{},wt.seriesTypes=bt;var Et=wt.extend=function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},Pt=wt.pick=function(){var t=arguments,n,r,i=t.length;for(n=0;n<i;n++){r=t[n];if(r!==e&&r!==null)return r}},qt=wt.wrap=function(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.apply(this,e)}};M=function(e,t,n){if(!Mt(t)||isNaN(t))return O.lang.invalidDate||"";e=Pt(e,"%Y-%m-%d %H:%M:%S");var r=new nt(t-Rt(t)),s,o=r[ut](),u=r[at](),a=r[ft](),f=r[lt](),l=r[ct](),c=O.lang,h=c.weekdays,p=Et({a:h[u].substr(0,3),A:h[u],d:Ft(a),e:a,w:u,b:c.shortMonths[f],B:c.months[f],m:Ft(f+1),y:l.toString().substr(2,2),Y:l,H:Ft(o),k:o,I:Ft(o%12||12),l:o%12||12,M:Ft(r[ot]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:Ft(r.getSeconds()),L:Ft(i(t%1e3),3)},wt.dateFormats);for(s in p)while(e.indexOf("%"+s)!==-1)e=e.replace("%"+s,typeof p[s]=="function"?p[s](t):p[s]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},D={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},wt.numberFormat=function(e,t,n,r){var i=O.lang,s=+e||0,o=t===-1?a((s.toString().split(".")[1]||"").length,20):isNaN(t=f(t))?2:t,u=n===undefined?i.decimalPoint:n,l=r===undefined?i.thousandsSep:r,c=s<0?"-":"",h=String(xt(s=f(s).toFixed(o))),p=h.length>3?h.length%3:0;return c+(p?h.substr(0,p)+l:"")+h.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+l)+(o?u+f(s-h).toFixed(o).slice(2):"")},_={init:function(e,t,n){t=t||"";var r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,u,a,f=t.split(" "),l=[].concat(n),c,h,p=function(e){a=e.length;while(a--)e[a]===$&&e.splice(a+1,0,e[a+1],e[a+2],e[a+1],e[a+2])};i&&(p(f),p(l)),e.isArea&&(c=f.splice(f.length-6,6),h=l.splice(l.length-6,6));if(r<=l.length/s&&f.length===l.length)while(r--)l=[].concat(l).splice(0,s).concat(l);e.shift=0;if(f.length){o=l.length;while(f.length<o)u=[].concat(f).splice(f.length-s,s),i&&(u[s-6]=u[s-2],u[s-5]=u[s-1]),f=f.concat(u)}return c&&(f=f.concat(c),l=l.concat(h)),[f,l]},step:function(e,t,n,r){var i=[],s=e.length,o;if(n===1)i=r;else if(s===t.length&&n<1)while(s--)o=parseFloat(e[s]),i[s]=isNaN(o)?e[s]:n*parseFloat(t[s]-o)+o;else i=t;return i}},function(r){n.HighchartsAdapter=n.HighchartsAdapter||r&&{init:function(t){var n=r.fx;r.extend(r.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}}),r.each(["cur","_default","width","height","opacity"],function(t,i){var s=n.step,o;i==="cur"?s=n.prototype:i==="_default"&&r.Tween&&(s=r.Tween.propHooks[i],i="set"),o=s[i],o&&(s[i]=function(n){var r;n=t?n:this;if(n.prop==="align")return;return r=n.elem,r.attr?r.attr(n.prop,i==="cur"?e:n.now):o.apply(this,arguments)})}),qt(r.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),this.addAnimSetter("d",function(e){var n=e.elem,r;e.started||(r=t.init(n,n.d,n.toD),e.start=r[0],e.end=r[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n},r.fn.highcharts=function(){var t="Chart",n=arguments,r,i,s;return this[0]&&(Tt(n[0])&&(t=n[0],n=Array.prototype.slice.call(n,1)),r=n[0],r!==e&&(r.chart=r.chart||{},r.chart.renderTo=this[0],s=new wt[t](r,n[1]),i=this),r===e&&(i=H[_t(this[0],"data-highcharts-chart")])),i}},addAnimSetter:function(e,t){r.Tween?r.Tween.propHooks[e]={set:t}:r.fx.step[e]=t},getScript:r.getScript,inArray:r.inArray,adapterRun:function(e,t){return r(e)[t]()},grep:r.grep,map:function(e,t){var n=[],r=0,i=e.length;for(;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(e){return r(e).offset()},addEvent:function(e,t,n){r(e).bind(t,n)},removeEvent:function(e,n,i){var s=t.removeEventListener?"removeEventListener":"detachEvent";t[s]&&e&&!e[s]&&(e[s]=function(){}),r(e).unbind(n,i)},fireEvent:function(e,t,n,i){var s=r.Event(t),o="detached"+t,u;!m&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),Et(s,n),e[t]&&(e[o]=e[t],e[t]=null),r.each(["preventDefault","stopPropagation"],function(e,t){var n=s[t];s[t]=function(){try{n.call(s)}catch(e){t==="preventDefault"&&(u=!0)}}}),r(e).trigger(s),e[o]&&(e[t]=e[o],e[o]=null),i&&!s.isDefaultPrevented()&&!u&&i(s)},washMouseEvent:function(t){var n=t.originalEvent||t;return n.pageX===e&&(n.pageX=t.pageX,n.pageY=t.pageY),n},animate:function(t,n,i){var s=r(t);t.style||(t.style={}),n.d&&(t.toD=n.d,n.d=1),s.stop(),n.opacity!==e&&t.attr&&(n.opacity+="px"),t.hasAnim=1,s.animate(n,i)},stop:function(e){e.hasAnim&&r(e).stop()}}}(n.jQuery);var en=n.HighchartsAdapter,tn=en||{};en&&en.init.call(en,_);var nn=tn.adapterRun,rn=tn.getScript,sn=tn.inArray,on=wt.each=tn.each,un=tn.grep,an=tn.offset,fn=tn.map,ln=tn.addEvent,cn=tn.removeEvent,hn=tn.fireEvent,pn=tn.washMouseEvent,dn=tn.animate,vn=tn.stop;O={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.1.9/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.9/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return this.y===null?"":wt.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:q,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:q,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:R,top:"45%"},style:{position:q,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:S,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:w?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var mn=O.plotOptions,gn=mn.line;yn();var En=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Sn=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,xn=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Tn=function(e){function i(e){e&&e.stops?r=fn(e.stops,function(e){return Tn(e[1])}):(n=En.exec(e),n?t=[xt(n[1]),xt(n[2]),xt(n[3]),parseFloat(n[4],10)]:(n=Sn.exec(e),n?t=[xt(n[1],16),xt(n[2],16),xt(n[3],16),1]:(n=xn.exec(e),n&&(t=[xt(n[1]),xt(n[2]),xt(n[3]),1]))))}function s(n){var i;return r?(i=St(e),i.stops=[].concat(i.stops),on(r,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})):t&&!isNaN(t[0])?n==="rgb"?i="rgb("+t[0]+","+t[1]+","+t[2]+")":n==="a"?i=t[3]:i="rgba("+t.join(",")+")":i=e,i}function o(e){if(r)on(r,function(t){t.brighten(e)});else if(kt(e)&&e!==0){var n;for(n=0;n<3;n++)t[n]+=xt(e*255),t[n]<0&&(t[n]=0),t[n]>255&&(t[n]=255)}return this}function u(e){return t[3]=e,this}var t=[],n,r;return i(e),{get:s,brighten:o,rgba:t,setOpacity:u,raw:e}};Nn.prototype={opacity:1,textProps:["fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textDecoration","textOverflow","textShadow"],init:function(e,n){var r=this;r.element=n==="span"?Bt(n):t.createElementNS(E,n),r.renderer=e},animate:function(e,t,n){var r=Pt(t,this.renderer.globalAnimation,!0);return vn(this),r?(r=St(r,{}),n&&(r.complete=n),dn(this,e,r)):this.attr(e,null,n),this},colorGradient:function(e,t,n){var r=this.renderer,i,s,o,u,a,f,l,c,h,p,d,v,m=[];e.linearGradient?s="linearGradient":e.radialGradient&&(s="radialGradient");if(s){o=e[s],a=r.gradients,l=e.stops,p=n.radialReference,Ct(o)&&(e[s]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),s==="radialGradient"&&p&&!Mt(o.gradientUnits)&&(u=o,o=St(o,r.getRadialAttr(p,u),{gradientUnits:"userSpaceOnUse"}));for(d in o)d!=="id"&&m.push(d,o[d]);for(d in l)m.push(l[d]);m=m.join(","),a[m]?v=a[m].attr("id"):(o.id=v=z+L++,a[m]=f=r.createElement(s).attr(o).add(r.defs),f.radAttr=u,f.stops=[],on(l,function(e){var t;e[1].indexOf("rgba")===0?(i=Tn(e[1]),c=i.get("rgb"),h=i.get("a")):(c=e[1],h=1),t=r.createElement("stop").attr({offset:e[0],"stop-color":c,"stop-opacity":h}).add(f),f.stops.push(t)})),n.setAttribute(t,"url("+r.url+"#"+v+")"),n.gradient=m}},applyTextShadow:function(t){var n=this.element,r,i=t.indexOf("contrast")!==-1,s={},o=this.renderer.forExport,a=o||n.style.textShadow!==e&&!m;i&&(s.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(n.style.fill)));if(y||o)s.textRendering="geometricPrecision";a?this.css(s):(this.fakeTS=!0,this.ySetter=this.xSetter,r=[].slice.call(n.getElementsByTagName("tspan")),on(t.split(/\s?,\s?/g),function(e){var t=n.firstChild,i,s;e=e.split(" "),i=e[e.length-1],s=e[e.length-2],s&&on(r,function(e,r){var o;r===0&&(e.setAttribute("x",n.getAttribute("x")),r=n.getAttribute("y"),e.setAttribute("y",r||0),r===null&&n.setAttribute("y",0)),o=e.cloneNode(1),_t(o,{"class":z+"text-shadow",fill:i,stroke:i,"stroke-opacity":1/u(xt(s),3),"stroke-width":s,"stroke-linejoin":"round"}),n.insertBefore(o,t)})}))},attr:function(t,n,r){var i,s,o=this.element,u,a=this,f;typeof t=="string"&&n!==e&&(i=t,t={},t[i]=n);if(typeof t=="string")a=(this[t+"Getter"]||this._defaultGetter).call(this,t,o);else{for(i in t)s=t[i],f=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(u||(this.symbolAttr(t),u=!0),f=!0),this.rotation&&(i==="x"||i==="y")&&(this.doTransform=!0),f||(this[i+"Setter"]||this._defaultSetter).call(this,s,i,o),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,s);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return r&&r(),a},updateShadows:function(e,t){var n=this.shadows,r=n.length;while(r--)n[r].setAttribute(e,e==="height"?u(t-(n[r].cutHeight||0),0):e==="d"?this.d:t)},addClass:function(e){var t=this.element,n=_t(t,"class")||"";return n.indexOf(e)===-1&&_t(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;on(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){t[n]=Pt(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":V)},crisp:function(e){var t=this,n,r={},o,u=e.strokeWidth||t.strokeWidth||0;o=i(u)%2/2,e.x=s(e.x||t.x||0)+o,e.y=s(e.y||t.y||0)+o,e.width=s((e.width||t.width||0)-2*o),e.height=s((e.height||t.height||0)-2*o),e.strokeWidth=u;for(n in e)t[n]!==e[n]&&(t[n]=r[n]=e[n]);return r},css:function(e){var t=this,n=t.styles,r={},i=t.element,s,o,u="",a,f=!n;e&&e.color&&(e.fill=e.color);if(n)for(o in e)e[o]!==n[o]&&(r[o]=e[o],f=!0);if(f){s=t.textWidth=e&&e.width&&i.nodeName.toLowerCase()==="text"&&xt(e.width)||t.textWidth,n&&(e=Et(n,r)),t.styles=e,s&&(T||!S&&t.renderer.forExport)&&delete e.width;if(m&&!S)Ht(t.element,e);else{a=function(e,t){return"-"+t.toLowerCase()};for(o in e)u+=o.replace(/([A-Z])/g,a)+":"+e[o]+";";_t(i,"style",u)}s&&t.added&&t.renderer.buildText(t)}return t},on:function(e,t){var n=this,r=n.element;return C&&e==="click"?(r.ontouchstart=function(e){n.touchEventFired=nt.now(),e.preventDefault(),t.call(r,e)},r.onclick=function(e){(d.indexOf("Android")===-1||nt.now()-(n.touchEventFired||0)>1100)&&t.call(r,e)}):r["on"+e]=t,this},setRadialReference:function(e){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){var e=this;return e.inverted=!0,e.updateTransform(),e},updateTransform:function(){var e=this,t=e.translateX||0,n=e.translateY||0,r=e.scaleX,i=e.scaleY,s=e.inverted,o=e.rotation,u=e.element,a;s&&(t+=e.attr("width"),n+=e.attr("height")),a=["translate("+t+","+n+")"],s?a.push("rotate(90) scale(-1,1)"):o&&a.push("rotate("+o+" "+(u.getAttribute("x")||0)+" "+(u.getAttribute("y")||0)+")"),(Mt(r)||Mt(i))&&a.push("scale("+Pt(r,1)+" "+Pt(i,1)+")"),a.length&&u.setAttribute("transform",a.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var r,s,o,u,a={},f,l=this.renderer,c=l.alignedObjects;if(e){this.alignOptions=e,this.alignByTranslate=t;if(!n||Tt(n))this.alignTo=f=n||"renderer",Ot(c,this),c.push(this),n=null}else e=this.alignOptions,t=this.alignByTranslate,f=this.alignTo;n=Pt(n,l[f],l),r=e.align,s=e.verticalAlign,o=(n.x||0)+(e.x||0),u=(n.y||0)+(e.y||0);if(r==="right"||r==="center")o+=(n.width-(e.width||0))/{right:1,center:2}[r];a[t?"translateX":"x"]=i(o);if(s==="bottom"||s==="middle")u+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1);return a[t?"translateY":"y"]=i(u),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(t){var n=this,r,i=n.renderer,s,o,u=n.rotation,a=n.element,h=n.styles,d=u*p,v=n.textStr,g,y=a.style,w,S;v!==e&&(S=["",u||0,h&&h.fontSize,a.style.width].join(","),v===""||K.test(v)?S="num:"+v.toString().length+S:S=v+S),S&&!t&&(r=i.cache[S]);if(!r){if(a.namespaceURI===E||i.forExport){try{w=this.fakeTS&&function(e){on(a.querySelectorAll("."+z+"text-shadow"),function(t){t.style.display=e})},b&&y.textShadow?(g=y.textShadow,y.textShadow=""):w&&w(V),r=a.getBBox?Et({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight},g?y.textShadow=g:w&&w("")}catch(x){}if(!r||r.width<0)r={width:0,height:0}}else r=n.htmlGetBBox();i.isSVG&&(s=r.width,o=r.height,m&&h&&h.fontSize==="11px"&&o.toPrecision(3)==="16.9"&&(r.height=o=14),u&&(r.width=f(o*c(d))+f(s*l(d)),r.height=f(o*l(d))+f(s*c(d)))),S&&(i.cache[S]=r)}return r},show:function(e){return this.attr({visibility:e?"inherit":W})},hide:function(){return this.attr({visibility:U})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t=this.renderer,n=this.element,r;e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==undefined&&t.buildText(this),this.added=!0;if(!e||e.handleZ||this.zIndex)r=this.zIndexSetter();return r||(e?e.element:t.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.renderer.isSVG&&t.nodeName==="SPAN"&&e.parentGroup,i,s,o;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,vn(e),e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(o=0;o<e.stops.length;o++)e.stops[o]=e.stops[o].destroy();e.stops=null}e.safeRemoveChild(t),n&&on(n,function(t){e.safeRemoveChild(t)});while(r&&r.div&&r.div.childNodes.length===0)i=r.parentGroup,e.safeRemoveChild(r.div),delete r.div,r=i;e.alignTo&&Ot(e.renderer.alignedObjects,e);for(s in e)delete e[s];return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,a,f,l,c;if(e){f=Pt(e.width,3),l=(e.opacity||.15)/f,c=this.parentInverted?"(-1,-1)":"("+Pt(e.offsetX,1)+", "+Pt(e.offsetY,1)+")";for(i=1;i<=f;i++)s=o.cloneNode(0),a=f*2+1-2*i,_t(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":l*i,"stroke-width":a,transform:"translate"+c,fill:V}),n&&(_t(s,"height",u(_t(s,"height")-a,0)),s.cutHeight=a),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this},xGetter:function(e){return this.element.nodeName==="circle"&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){var t=Pt(this[e],this.element?this.element.getAttribute(e):null,0);return/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t;e=e&&e.toLowerCase();if(e){e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=e.length;while(t--)e[t]=xt(e[t])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var n=this.element.getElementsByTagName("title")[0];n||(n=t.createElementNS(E,"title"),this.element.appendChild(n)),n.appendChild(t.createTextNode(String(Pt(e),"").replace(/<[^>]*>/g,"")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){typeof e=="string"?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},visibilitySetter:function(e,t,n){e==="inherit"?n.removeAttribute(t):n.setAttribute(t,e)},zIndexSetter:function(e,t){var n=this.renderer,r=this.parentGroup,i=r||n,s=i.element||n.box,o,u,a,f=this.element,l,c=this.added,h;Mt(e)&&(f.setAttribute(t,e),e=+e,this[t]===e&&(c=!1),this[t]=e);if(c){e=this.zIndex,e&&r&&(r.handleZ=!0),o=s.childNodes;for(h=0;h<o.length&&!l;h++)u=o[h],a=_t(u,"zIndex"),u!==f&&(xt(a)>e||!Mt(e)&&Mt(a))&&(s.insertBefore(f,u),l=!0);l||s.appendChild(f)}return l},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}},Nn.prototype.yGetter=Nn.prototype.xGetter,Nn.prototype.translateXSetter=Nn.prototype.translateYSetter=Nn.prototype.rotationSetter=Nn.prototype.verticalAlignSetter=Nn.prototype.scaleXSetter=Nn.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},Nn.prototype["stroke-widthSetter"]=Nn.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],Nn.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&e===0&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var Cn=function(){this.init.apply(this,arguments)};Cn.prototype={Element:Nn,init:function(e,r,i,s,u,a){var f=this,l=location,c,h,p;c=f.createElement("svg").attr({version:"1.1"}).css(this.getStyle(s)),h=c.element,e.appendChild(h),e.innerHTML.indexOf("xmlns")===-1&&_t(h,"xmlns",E),f.isSVG=!0,f.box=h,f.boxWrapper=c,f.alignedObjects=[],f.url=(b||y)&&t.getElementsByTagName("base").length?l.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",p=this.createElement("desc").add(),p.element.appendChild(t.createTextNode("Created with "+j+" "+F)),f.defs=this.createElement("defs").add(),f.allowHTML=a,f.forExport=u,f.gradients={},f.cache={},f.setSize(r,i,!1);var d,v;b&&e.getBoundingClientRect&&(f.subPixelFix=d=function(){Ht(e,{left:0,top:0}),v=e.getBoundingClientRect(),Ht(e,{left:o(v.left)-v.left+X,top:o(v.top)-v.top+X})},d(),ln(n,"resize",d))},getStyle:function(e){return this.style=Et({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,t=e.defs;return e.box=null,e.boxWrapper=e.boxWrapper.destroy(),Kt(e.gradients||{}),e.gradients=null,t&&(e.defs=t.destroy()),e.subPixelFix&&cn(n,"resize",e.subPixelFix),e.alignedObjects=null,null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},getRadialAttr:function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},buildText:function(e){var n=e.element,r=this,i=r.forExport,s=Pt(e.textStr,"").toString(),u=s.indexOf("<")!==-1,a,f=n.childNodes,l,c,h=_t(n,"x"),p=e.styles,d=e.textWidth,v=p&&p.lineHeight,m=p&&p.textShadow,g=p&&p.textOverflow==="ellipsis",y=f.length,b=d&&!e.added&&this.box,w=function(e){return v?xt(v):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:p&&p.fontSize||r.style.fontSize||12,e).h},x=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")};while(y--)n.removeChild(f[y]);if(!u&&!m&&!g&&s.indexOf(" ")===-1){n.appendChild(t.createTextNode(x(s)));return}l=/<.*style="([^"]+)".*>/,c=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(n),u?a=s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):a=[s],a[a.length-1]===""&&a.pop(),on(a,function(s,u){var a,f=0;s=s.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),a=s.split("|||"),on(a,function(s){if(s!==""||a.length===1){var v={},m=t.createElementNS(E,"tspan"),y;l.test(s)&&(y=s.match(l)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),_t(m,"style",y)),c.test(s)&&!i&&(_t(m,"onclick",'location.href="'+s.match(c)[1]+'"'),Ht(m,{cursor:"pointer"})),s=x(s.replace(/<(.|\n)*?>/g,"")||" ");if(s!==" "){m.appendChild(t.createTextNode(s)),f?v.dx=0:u&&h!==null&&(v.x=h),_t(m,v),n.appendChild(m),!f&&u&&(!S&&i&&Ht(m,{display:"block"}),_t(m,"dy",w(m)));if(d){var b=s.replace(/([^\^])-/g,"$1- ").split(" "),T=a.length>1||u||b.length>1&&p.whiteSpace!=="nowrap",N,C,k,L=[],A=w(m),O=1,M=e.rotation,_=s,D=_.length,P;while((T||g)&&(b.length||L.length))e.rotation=0,P=e.getBBox(!0),k=P.width,!S&&r.forExport&&(k=r.measureSpanWidth(m.firstChild.data,e.styles)),N=k>d,C===undefined&&(C=N),g&&C?(D/=2,_===""||!N&&D<.5?b=[]:(N&&(C=!0),_=s.substring(0,_.length+(N?-1:1)*o(D)),b=[_+(d>3?"…":"")],m.removeChild(m.firstChild))):!N||b.length===1?(b=L,L=[],b.length&&(O++,m=t.createElementNS(E,"tspan"),_t(m,{dy:A,x:h}),y&&_t(m,"style",y),n.appendChild(m)),k>d&&(d=k)):(m.removeChild(m.firstChild),L.unshift(b.pop())),b.length&&m.appendChild(t.createTextNode(b.join(" ").replace(/- /g,"-")));C&&e.attr("title",e.textStr),e.rotation=M}f++}}})}),b&&b.removeChild(n),m&&e.applyTextShadow&&e.applyTextShadow(m)},getContrast:function(e){return e=Tn(e).rgba,e[0]+e[1]+e[2]>384?"#000000":"#FFFFFF"},button:function(e,t,n,r,i,s,o,u,a){var f=this.label(e,t,n,a,null,null,null,null,"button"),l=0,c,h,p,d,v,g,y={x1:0,y1:0,x2:0,y2:1};return i=St({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:y,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},i),p=i.style,delete i.style,s=St(i,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),d=s.style,delete s.style,o=St(i,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#9BD"],[1,"#CDF"]]}},o),v=o.style,delete o.style,u=St(i,{style:{color:"#CCC"}},u),g=u.style,delete u.style,ln(f.element,m?"mouseover":"mouseenter",function(){l!==3&&f.attr(s).css(d)}),ln(f.element,m?"mouseout":"mouseleave",function(){l!==3&&(c=[i,s,o][l],h=[p,d,v][l],f.attr(c).css(h))}),f.setState=function(e){f.state=l=e,e?e===2?f.attr(o).css(v):e===3&&f.attr(u).css(g):f.attr(i).css(p)},f.on("click",function(e){l!==3&&r.call(f,e)}).attr(i).css(Et({cursor:"default"},p))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=i(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=i(e[2])+t%2/2),e},path:function(e){var t={fill:V};return Ct(e)?t.d=e:Nt(e)&&Et(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){var r=Nt(e)?e:{x:e,y:t,r:n},i=this.createElement("circle");return i.xSetter=function(e){this.element.setAttribute("cx",e)},i.ySetter=function(e){this.element.setAttribute("cy",e)},i.attr(r)},arc:function(e,t,n,r,i,s){var o;return Nt(e)&&(t=e.y,n=e.r,r=e.innerR,i=e.start,s=e.end,e=e.x),o=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:i||0,end:s||0}),o.r=n,o},rect:function(t,n,r,i,s,o){s=Nt(t)?t.r:s;var a=this.createElement("rect"),f=Nt(t)?t:t===e?{}:{x:t,y:n,width:u(r,0),height:u(i,0)};return o!==e&&(f.strokeWidth=o,f=a.crisp(f)),s&&(f.r=s),a.rSetter=function(e){_t(this.element,{rx:e,ry:e})},a.attr(f)},setSize:function(e,t,n){var r=this,i=r.alignedObjects,s=i.length;r.width=e,r.height=t,r.boxWrapper[Pt(n,!0)?"animate":"attr"]({width:e,height:t});while(s--)i[s].align()},g:function(e){var t=this.createElement("g");return Mt(e)?t.attr({"class":z+e}):t},image:function(e,t,n,r,i){var s={preserveAspectRatio:V},o;return arguments.length>1&&Et(s,{x:t,y:n,width:r,height:i}),o=this.createElement("image").attr(s),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,t,n,r,s,o){var u,a=this.symbols[e],f=a&&a(i(t),i(n),r,s,o),l,c=/^url\((.*?)\)$/,h,p,d;return f?(u=this.path(f),Et(u,{symbolName:e,x:t,y:n,width:r,height:s}),o&&Et(u,o)):c.test(e)&&(d=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(i((r-t[0])/2),i((s-t[1])/2)))},h=e.match(c)[1],p=k[h]||o&&o.width&&o.height&&[o.width,o.height],u=this.image(h).attr({x:t,y:n}),u.isImg=!0,p?d(u,p):(u.attr({width:0,height:0}),l=Bt("img",{onload:function(){this.width===0&&(Ht(this,{position:q,top:"-999em"}),document.body.appendChild(this)),d(u,k[h]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this)},src:h}))),u},symbols:{circle:function(e,t,n,r){var i=.166*n;return[$,e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return[$,e,t,J,e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return[$,e+n/2,t,J,e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return[$,e,t,J,e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return[$,e+n/2,t,J,e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,o=i.r||n||r,u=i.end-.001,a=i.innerR,f=i.open,p=l(s),d=c(s),v=l(u),m=c(u),g=i.end-s<h?0:1;return[$,e+o*p,t+o*d,"A",o,o,0,g,1,e+o*v,t+o*m,f?$:J,e+a*v,t+a*m,"A",a,a,0,g,0,e+a*p,t+a*d,f?"":"Z"]},callout:function(e,t,n,r,i){var s=6,o=6,u=a(i&&i.r||0,n,r),f=u+o,l=i&&i.anchorX,c=i&&i.anchorY,h;return h=["M",e+u,t,"L",e+n-u,t,"C",e+n,t,e+n,t,e+n,t+u,"L",e+n,t+r-u,"C",e+n,t+r,e+n,t+r,e+n-u,t+r,"L",e+u,t+r,"C",e,t+r,e,t+r,e,t+r-u,"L",e,t+u,"C",e,t,e,t,e+u,t],l&&l>n&&c>t+f&&c<t+r-f?h.splice(13,3,"L",e+n,c-o,e+n+s,c,e+n,c+o,e+n,t+r-u):l&&l<0&&c>t+f&&c<t+r-f?h.splice(33,3,"L",e,c+o,e-s,c,e,c-o,e,t+u):c&&c>r&&l>e+f&&l<e+n-f?h.splice(23,3,"L",l+o,t+r,l,t+r+s,l-o,t+r,e+u,t+r):c&&c<0&&l>e+f&&l<e+n-f&&h.splice(3,3,"L",l-o,t,l,t-s,l+o,t,n-u,t),h}},clipRect:function(e,t,n,r){var i,s=z+L++,o=this.createElement("clipPath").attr({id:s}).add(this.defs);return i=this.rect(e,t,n,r,0).add(o),i.id=s,i.clipPath=o,i.count=0,i},text:function(e,t,n,r){var i=this,s=T||!S&&i.forExport,o,u={};if(r&&(i.allowHTML||!i.forExport))return i.html(e,t,n);u.x=Math.round(t||0),n&&(u.y=Math.round(n));if(e||e===0)u.text=e;return o=i.createElement("text").attr(u),s&&o.css({position:q}),r||(o.xSetter=function(e,t,n){var r=n.getElementsByTagName("tspan"),i,s=n.getAttribute(t),o;for(o=0;o<r.length;o++)i=r[o],i.getAttribute(t)===s&&i.setAttribute(t,e);n.setAttribute(t,e)}),o},fontMetrics:function(e,t){var r,s,o;return e=e||this.style.fontSize,!e&&t&&n.getComputedStyle&&(t=t.element||t,o=n.getComputedStyle(t,""),e=o&&o.fontSize),e=/px/.test(e)?xt(e):/em/.test(e)?parseFloat(e)*12:12,r=e<24?e+3:i(e*1.2),s=i(r*.8),{h:r,b:s,f:e}},rotCorr:function(e,t,n){var r=e;return t&&n&&(r=u(r*l(t*p),4)),{x:-e/3*c(t*p),y:r}},label:function(t,n,r,s,o,u,a,f,l){function k(){var e,t,n=p.element.style;v=(b===undefined||w===undefined||h.styles.textAlign)&&Mt(p.textStr)&&p.getBBox(),h.width=(b||v.width||0)+2*g+y,h.height=(w||v.height||0)+2*g,N=g+c.fontMetrics(n&&n.fontSize,p).b,C&&(d||(e=i(-m*g)+x,t=(f?-N:0)+x,h.box=d=s?c.symbol(s,e,t,h.width,h.height,T):c.rect(e,t,h.width,h.height,0,T[tt]),d.isImg||d.attr("fill",V),d.add(h)),d.isImg||d.attr(Et({width:i(h.width),height:i(h.height)},T)),T=null)}function L(){var t=h.styles,n=t&&t.textAlign,r=y+g*(1-m),i;i=f?0:N,Mt(b)&&v&&(n==="center"||n==="right")&&(r+={center:.5,right:1}[n]*(b-v.width));if(r!==p.x||i!==p.y)p.attr("x",r),i!==e&&p.attr("y",i);p.x=r,p.y=i}function A(e,t){d?d.attr(e,t):T[e]=t}var c=this,h=c.g(l),p=c.text("",0,0,a).attr({zIndex:1}),d,v,m=0,g=3,y=0,b,w,E,S,x=0,T={},N,C;h.onAdd=function(){p.add(h),h.attr({text:t||t===0?t:"",x:n,y:r}),d&&Mt(o)&&h.attr({anchorX:o,anchorY:u})},h.widthSetter=function(e){b=e},h.heightSetter=function(e){w=e},h.paddingSetter=function(e){Mt(e)&&e!==g&&(g=h.padding=e,L())},h.paddingLeftSetter=function(e){Mt(e)&&e!==y&&(y=e,L())},h.alignSetter=function(e){m={left:0,center:.5,right:1}[e]},h.textSetter=function(t){t!==e&&p.textSetter(t),k(),L()},h["stroke-widthSetter"]=function(e,t){e&&(C=!0),x=e%2/2,A(t,e)},h.strokeSetter=h.fillSetter=h.rSetter=function(e,t){t==="fill"&&e&&(C=!0),A(t,e)},h.anchorXSetter=function(e,t){o=e,A(t,i(e)-x-E)},h.anchorYSetter=function(e,t){u=e,A(t,e-S)},h.xSetter=function(e){h.x=e,m&&(e-=m*((b||v.width)+g)),E=i(e),h.attr("translateX",E)},h.ySetter=function(e){S=h.y=i(e),h.attr("translateY",S)};var O=h.css;return Et(h,{css:function(t){if(t){var n={};t=St(t),on(h.textProps,function(r){t[r]!==e&&(n[r]=t[r],delete t[r])}),p.css(n)}return O.call(h,t)},getBBox:function(){return{width:v.width+2*g,height:v.height+2*g,x:v.x-g,y:v.y-g}},shadow:function(e){return d&&d.shadow(e),h},destroy:function(){cn(h.element,"mouseenter"),cn(h.element,"mouseleave"),p&&(p=p.destroy()),d&&(d=d.destroy()),Nn.prototype.destroy.call(h),h=c=k=L=A=null}})}},N=Cn,Et(Nn.prototype,{htmlCss:function(e){var t=this,n=t.element,r=e&&n.tagName==="SPAN"&&e.width;return r&&(delete e.width,t.textWidth=r,t.updateTransform()),e&&e.textOverflow==="ellipsis"&&(e.whiteSpace="nowrap",e.overflow="hidden"),t.styles=Et(t.styles,e),Ht(t.element,e),t},htmlGetBBox:function(){var e=this,t=e.element;return t.nodeName==="text"&&(t.style.position=q),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=!0;return}var e=this,t=e.renderer,n=e.element,r=e.translateX||0,i=e.translateY||0,s=e.x||0,o=e.y||0,u=e.textAlign||"left",a={left:0,center:.5,right:1}[u],f=e.shadows,l=e.styles;Ht(n,{marginLeft:r,marginTop:i}),f&&on(f,function(e){Ht(e,{marginLeft:r+1,marginTop:i+1})}),e.inverted&&on(n.childNodes,function(e){t.invertChild(e,n)});if(n.tagName==="SPAN"){var c,h=e.rotation,p,d=xt(e.textWidth),v=[h,u,n.innerHTML,e.textWidth,e.textAlign].join(",");v!==e.cTT&&(p=t.fontMetrics(n.style.fontSize).b,Mt(h)&&e.setSpanRotation(h,a,p),c=Pt(e.elemWidth,n.offsetWidth),c>d&&/[ \-]/.test(n.textContent||n.innerText)&&(Ht(n,{width:d+X,display:"block",whiteSpace:l&&l.whiteSpace||"normal"}),c=d),e.getSpanCorrection(c,p,a,h,u)),Ht(n,{left:s+(e.xCorr||0)+X,top:o+(e.yCorr||0)+X}),y&&(p=n.offsetHeight),e.cTT=v}},setSpanRotation:function(e,t,n){var r={},i=m?"-ms-transform":y?"-webkit-transform":b?"MozTransform":v?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)",r[i+(b?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+n+"px",Ht(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),Et(Cn.prototype,{html:function(e,t,n){var r=this.createElement("span"),s=r.element,o=r.renderer;return r.textSetter=function(e){e!==s.innerHTML&&delete this.bBox,s.innerHTML=this.textStr=e,r.htmlUpdateTransform()},r.xSetter=r.ySetter=r.alignSetter=r.rotationSetter=function(e,t){t==="align"&&(t="textAlign"),r[t]=e,r.htmlUpdateTransform()},r.attr({text:e,x:i(t),y:i(n)}).css({position:q,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),s.style.whiteSpace="nowrap",r.css=r.htmlCss,o.isSVG&&(r.add=function(e){var t,n=o.box.parentNode,i,u=[];this.parentGroup=e;if(e){t=e.div;if(!t){i=e;while(i)u.push(i),i=i.parentGroup;on(u.reverse(),function(e){var r,i=_t(e.element,"class");i&&(i={className:i}),t=e.div=e.div||Bt(I,i,{position:q,left:(e.translateX||0)+X,top:(e.translateY||0)+X},t||n),r=t.style,Et(e,{translateXSetter:function(t,n){r.left=t+X,e[n]=t,e.doTransform=!0},translateYSetter:function(t,n){r.top=t+X,e[n]=t,e.doTransform=!0}}),on(["opacity","visibility"],function(t){qt(e,t+"Setter",function(e,t,n,i){e.call(this,t,n,i),r[n]=t})})})}}else t=n;return t.appendChild(s),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r}});var kn,Ln;if(!S&&!T){Ln={init:function(e,t){var n=this,r=["<",t,' filled="f" stroked="f"'],i=["position: ",q,";"],s=t===I;(t==="shape"||s)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",s?U:W),r.push(' style="',i.join(""),'"/>'),t&&(r=s||t==="span"||t==="img"?r.join(""):e.prepVML(r),n.element=Bt(r)),n.renderer=e},add:function(e){var t=this,n=t.renderer,r=t.element,i=n.box,s=e&&e.inverted,o=e?e.element||e:i;return s&&n.invertChild(r,o),o.appendChild(r),t.added=!0,t.alignOnAdd&&!t.deferUpdateTransform&&t.updateTransform(),t.onAdd&&t.onAdd(),t},updateTransform:Nn.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=l(e*p),n=c(e*p);Ht(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):V})},getSpanCorrection:function(e,t,n,r,i){var s=r?l(r*p):1,o=r?c(r*p):0,u=Pt(this.elemHeight,this.element.offsetHeight),a,f=i&&i!=="left";this.xCorr=s<0&&-e,this.yCorr=o<0&&-u,a=s*o<0,this.xCorr+=o*t*(a?1-n:n),this.yCorr-=s*t*(r?a?n:1-n:1),f&&(this.xCorr-=e*n*(s<0?-1:1),r&&(this.yCorr-=u*n*(o<0?-1:1)),Ht(this.element,{textAlign:i}))},pathToVML:function(e){var t=e.length,n=[];while(t--)kt(e[t])?n[t]=i(e[t]*10)-5:e[t]==="Z"?n[t]="x":(n[t]=e[t],e.isArc&&(e[t]==="wa"||e[t]==="at")&&(n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1)));return n.join(" ")||"x"},clip:function(e){var t=this,n,r;return e?(n=e.members,Ot(n,t),n.push(t),t.destroyClip=function(){Ot(n,t)},r=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),r={clip:g?"inherit":"rect(auto)"}),t.css(r)},css:Nn.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&Qt(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),Nn.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=n.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n;e=e.split(/[ ,]/),n=e.length;if(n===9||n===11)e[n-4]=e[n-2]=xt(e[n-2])-10*t;return e.join(" ")},shadow:function(e,t,n){var r=[],i,s=this.element,o=this.renderer,u,a=s.style,f,l=s.path,c,h,p,d;l&&typeof l.value!="string"&&(l="x"),h=l;if(e){p=Pt(e.width,3),d=(e.opacity||.15)/p;for(i=1;i<=3;i++)c=p*2+1-2*i,n&&(h=this.cutOffPath(l.value,c+.5)),f=['<shape isShadow="true" strokeweight="',c,'" filled="false" path="',h,'" coordsize="10 10" style="',s.style.cssText,'" />'],u=Bt(o.prepVML(f),null,{left:xt(a.left)+Pt(e.offsetX,1),top:xt(a.top)+Pt(e.offsetY,1)}),n&&(u.cutOff=c+1),f=['<stroke color="',e.color||"black",'" opacity="',d*i,'"/>'],Bt(o.prepVML(f),null,null,u),t?t.element.appendChild(u):s.parentNode.insertBefore(u,s),r.push(u);this.shadows=r}return this},updateShadows:P,setAttr:function(e,t){g?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){var r=n.getElementsByTagName("stroke")[0]||Bt(this.renderer.prepVML(["<stroke/>"]),null,null,n);r[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var r,i=this.shadows;e=e||[],this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e);if(i){r=i.length;while(r--)i[r].path=i[r].cutOff?this.cutOffPath(e,i[r].cutOff):e}this.setAttr(t,e)},fillSetter:function(e,t,n){var r=n.nodeName;r==="SPAN"?n.style.color=e:r!=="IMG"&&(n.filled=e!==V,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},opacitySetter:P,rotationSetter:function(e,t,n){var r=n.style;this[t]=r[t]=e,r.left=-i(c(e*p)+1)+X,r.top=i(l(e*p))+X},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,kt(e)&&(e+=X),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){e==="inherit"&&(e=W),this.shadows&&on(this.shadows,function(n){n.style[t]=e}),n.nodeName==="DIV"&&(e=e===U?"-999em":0,g||(n.style[t]=e?W:U),t="top"),n.style[t]=e},xSetter:function(e,t,n){this[t]=e,t==="x"?t="left":t==="y"&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},wt.VMLElement=Ln=jt(Nn,Ln),Ln.prototype.ySetter=Ln.prototype.widthSetter=Ln.prototype.heightSetter=Ln.prototype.xSetter;var An={Element:Ln,isIE8:d.indexOf("MSIE 8.0")>-1,init:function(e,n,r,i){var s=this,o,u,a;s.alignedObjects=[],o=s.createElement(I).css(Et(this.getStyle(i),{position:R})),u=o.element,e.appendChild(o.element),s.isVML=!0,s.box=u,s.boxWrapper=o,s.cache={},s.setSize(n,r,!1);if(!t.namespaces.hcv){t.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),a="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{t.createStyleSheet().cssText=a}catch(f){t.styleSheets[0].cssText+=a}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,r){var s=this.createElement(),o=Nt(e);return Et(s,{members:[],count:0,left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:r)-1,getCSS:function(e){var t=e.element,n=t.nodeName,r=n==="shape",s=e.inverted,o=this,u=o.top-(r?t.offsetTop:0),a=o.left,f=a+o.width,l=u+o.height,c={clip:"rect("+i(s?a:u)+"px,"+i(s?l:f)+"px,"+i(s?f:l)+"px,"+i(s?u:a)+"px)"};return!s&&g&&n==="DIV"&&Et(c,{width:f+X,height:l+X}),c},updateClipping:function(){on(s.members,function(e){e.element&&e.css(s.getCSS(e))})}})},color:function(e,t,n,i){var s=this,o,u=/^rgba/,a,f,l=V;e&&e.linearGradient?f="gradient":e&&e.radialGradient&&(f="pattern");if(f){var c,p,d=e.linearGradient||e.radialGradient,v,m,g,y,b,w,E,S,x="",T=e.stops,N,C,k=[],L=function(){a=['<fill colors="'+k.join(",")+'" opacity="',w,'" o:opacity2="',b,'" type="',f,'" ',x,'focus="100%" method="any" />'],Bt(s.prepVML(a),null,null,t)};N=T[0],C=T[T.length-1],N[0]>0&&T.unshift([0,N[1]]),C[0]<1&&T.push([1,C[1]]),on(T,function(e,t){u.test(e[1])?(o=Tn(e[1]),c=o.get("rgb"),p=o.get("a")):(c=e[1],p=1),k.push(e[0]*100+"% "+c),t?(w=p,E=c):(b=p,S=c)});if(n==="fill")if(f==="gradient")v=d.x1||d[0]||0,m=d.y1||d[1]||0,g=d.x2||d[2]||0,y=d.y2||d[3]||0,x='angle="'+(90-r.atan((y-m)/(g-v))*180/h)+'"',L();else{var A=d.r,M=A*2,_=A*2,D=d.cx,P=d.cy,H=t.radialReference,B,j=function(){H&&(B=i.getBBox(),D+=(H[0]-B.x)/B.width-.5,P+=(H[1]-B.y)/B.height-.5,M*=H[2]/B.width,_*=H[2]/B.height),x='src="'+O.global.VMLRadialGradientURL+'" '+'size="'+M+","+_+'" '+'origin="0.5,0.5" '+'position="'+D+","+P+'" '+'color2="'+S+'" ',L()};i.added?j():i.onAdd=j,l=E}else l=c}else if(u.test(e)&&t.tagName!=="IMG")o=Tn(e),a=["<",n,' opacity="',o.get("a"),'"/>'],Bt(this.prepVML(a),null,null,t),l=o.get("rgb");else{var F=t.getElementsByTagName(n);F.length&&(F[0].opacity=1,F[0].type="solid"),l=e}return l},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return e=e.join(""),n?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e.indexOf('style="')===-1?e=e.replace("/>",' style="'+t+'" />'):e=e.replace('style="','style="'+t)):e=e.replace("<","<hcv:"),e},text:Cn.prototype.html,path:function(e){var t={coordsize:"10 10"};return Ct(e)?t.d=e:Nt(e)&&Et(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var r=this.symbol("circle");return Nt(e)&&(n=e.r,t=e.y,e=e.x),r.isCircle=!0,r.r=n,r.attr({x:e,y:t})},g:function(e){var t,n;return e&&(n={className:z+e,"class":z+e}),t=this.createElement(I).attr(n),t},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:n,width:r,height:i}),s},createElement:function(e){return e==="rect"?this.symbol(e):Cn.prototype.createElement.call(this,e)},invertChild:function(e,t){var n=this,r=t.style,i=e.tagName==="IMG"&&e.style;Ht(e,{flip:"x",left:xt(r.width)-(i?xt(i.top):1),top:xt(r.height)-(i?xt(i.left):1),rotation:-90}),on(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,a=i.innerR,f=l(s),h=c(s),p=l(o),d=c(o),v;return o-s===0?["x"]:(v=["wa",e-u,t-u,e+u,t+u,e+u*f,t+u*h,e+u*p,t+u*d],i.open&&!a&&v.push("e",$,e,t),v.push("at",e-a,t-a,e+a,t+a,e+a*p,t+a*d,e+a*f,t+a*h,"x","e"),v.isArc=!0,v)},circle:function(e,t,n,r,i){return i&&(n=r=2*i.r),i&&i.isCircle&&(e-=n/2,t-=r/2),["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){return Cn.prototype.symbols[!Mt(i)||!i.r?"square":"callout"].call(0,e,t,n,r,i)}}};wt.VMLRenderer=kn=function(){this.init.apply(this,arguments)},kn.prototype=St(Cn.prototype,An),N=kn}Cn.prototype.measureSpanWidth=function(e,n){var r=t.createElement("span"),i,s=t.createTextNode(e);return r.appendChild(s),Ht(r,n),this.box.appendChild(r),i=r.offsetWidth,Qt(r),i};var On,Mn;T&&(wt.CanVGRenderer=On=function(){E="http://www.w3.org/1999/xhtml"},On.prototype.symbols={},Mn=function(){function t(){var t=e.length,n;for(n=0;n<t;n++)e[n]();e=[]}var e=[];return{push:function(n,r){e.length===0&&rn(r,t),e.push(n)}}}(),N=On),_n.prototype={addLabel:function(){var e=this,t=e.axis,n=t.options,r=t.chart,i=t.categories,s=t.names,o=e.pos,u=n.labels,a,f=t.tickPositions,l=o===f[0],c=o===f[f.length-1],h=i?Pt(i[o],s[o],o):o,p=e.label,d=f.info,v;t.isDatetimeAxis&&d&&(v=n.dateTimeLabelFormats[d.higherRanks[o]||d.unitName]),e.isFirst=l,e.isLast=c,a=t.labelFormatter.call({axis:t,chart:r,isFirst:l,isLast:c,dateTimeLabelFormat:v,value:t.isLog?Yt(At(h)):h}),Mt(p)?p&&p.attr({text:a}):(e.label=p=Mt(a)&&u.enabled?r.renderer.text(a,0,0,u.useHTML).css(St(u.style)).add(t.labelGroup):null,e.labelLength=p&&p.getBBox().width,e.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t=this.axis,n=e.x,r=t.chart.chartWidth,s=t.chart.spacing,o=Pt(t.labelLeft,a(t.pos,s[3])),f=Pt(t.labelRight,u(t.pos+t.len,r-s[1])),c=this.label,h=this.rotation,d={left:0,center:.5,right:1}[t.labelAlign],v=c.getBBox().width,m=t.slotWidth,g=d,y=1,b,w,E,S={};if(!h){b=n-d*v,w=n+(1-d)*v,b<o?m=e.x+m*(1-d)-o:w>f&&(m=f-e.x+m*d,y=-1),m=a(t.slotWidth,m),m<t.slotWidth&&t.labelAlign==="center"&&(e.x+=y*(t.slotWidth-m-g*(t.slotWidth-a(v,m))));if(v>m||t.autoRotation&&c.styles.width)E=m}else h<0&&n-d*v<o?E=i(n/l(h*p)-o):h>0&&n+d*v>f&&(E=i((r-n)/l(h*p)));E&&(S.width=E,t.options.labels.style.textOverflow||(S.textOverflow="ellipsis"),c.css(S))},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,s,o,u,a){var f=this.axis,l=f.transA,c=f.reversed,h=f.staggerLines,p=f.tickRotCorr||{x:0,y:0},d=Pt(s.y,p.y+(f.side===2?8:-(n.getBBox().height/2))),v;return e=e+s.x+p.x-(o&&r?o*l*(c?-1:1):0),t=t+d-(o&&!r?o*l*(c?1:-1):0),h&&(v=u/(a||1)%h,t+=v*(f.labelOffset/h)),{x:e,y:i(t)}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine([$,e,t,J,e+(i?0:-n),t+(i?n:0)],r)},render:function(t,n,r){var i=this,s=i.axis,o=s.options,u=s.chart,a=u.renderer,f=s.horiz,l=i.type,c=i.label,h=i.pos,p=o.labels,d=i.gridLine,v=l?l+"Grid":"grid",m=l?l+"Tick":"tick",g=o[v+"LineWidth"],y=o[v+"LineColor"],b=o[v+"LineDashStyle"],w=o[m+"Length"],E=Pt(o[m+"Width"],!l&&s.isXAxis?1:0),S=o[m+"Color"],x=o[m+"Position"],T,N=i.mark,C,k=p.step,L,A=!0,O=s.tickmarkOffset,M=i.getPosition(f,h,O,n),_=M.x,D=M.y,P=f&&_===s.pos+s.len||!f&&D===s.pos?-1:1;r=Pt(r,1),this.isActive=!0,g&&(T=s.getPlotLinePath(h+O,g*P,n,!0),d===e&&(L={stroke:y,"stroke-width":g},b&&(L.dashstyle=b),l||(L.zIndex=1),n&&(L.opacity=0),i.gridLine=d=g?a.path(T).attr(L).add(s.gridGroup):null),!n&&d&&T&&d[i.isNew?"attr":"animate"]({d:T,opacity:r})),E&&w&&(x==="inside"&&(w=-w),s.opposite&&(w=-w),C=i.getMarkPath(_,D,w,E*P,f,a),N?N.animate({d:C,opacity:r}):i.mark=a.path(C).attr({stroke:S,"stroke-width":E,opacity:r}).add(s.axisGroup)),c&&!isNaN(_)&&(c.xy=M=i.getLabelPosition(_,D,c,f,p,O,t,k),i.isFirst&&!i.isLast&&!Pt(o.showFirstLabel,1)||i.isLast&&!i.isFirst&&!Pt(o.showLastLabel,1)?A=!1:f&&!s.isRadial&&!p.step&&!p.rotation&&!n&&r!==0&&i.handleOverflow(M),k&&t%k&&(A=!1),A&&!isNaN(M.y)?(M.opacity=r,c[i.isNew?"attr":"animate"](M),i.isNew=!1):c.attr("y",-9999))},destroy:function(){Kt(this,this.axis)}},wt.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},wt.PlotLineOrBand.prototype={render:function(){var e=this,t=e.axis,n=t.horiz,r=e.options,i=r.label,s=e.label,o=r.width,u=r.to,a=r.from,f=Mt(a)&&Mt(u),l=r.value,c=r.dashStyle,h=e.svgElem,p=[],d,v,m,g,y,b,w=r.color,E=r.zIndex,S=r.events,x={},T=t.chart.renderer;t.isLog&&(a=Lt(a),u=Lt(u),l=Lt(l));if(o)p=t.getPlotLinePath(l,o),x={stroke:w,"stroke-width":o},c&&(x.dashstyle=c);else{if(!f)return;p=t.getPlotBandPath(a,u,r),w&&(x.fill=w),r.borderWidth&&(x.stroke=r.borderColor,x["stroke-width"]=r.borderWidth)}Mt(E)&&(x.zIndex=E);if(h)p?h.animate({d:p},null,h.onGetPath):(h.hide(),h.onGetPath=function(){h.show()},s&&(e.label=s=s.destroy()));else if(p&&p.length){e.svgElem=h=T.path(p).attr(x).add();if(S){d=function(t){h.on(t,function(n){S[t].apply(e,[n])})};for(v in S)d(v)}}return i&&Mt(i.text)&&p&&p.length&&t.width>0&&t.height>0?(i=St({align:n&&f&&"center",x:n?!f&&4:10,verticalAlign:!n&&f&&"middle",y:n?f?16:10:f?6:-4,rotation:n&&!f&&90},i),s||(x={align:i.textAlign||i.align,rotation:i.rotation},Mt(E)&&(x.zIndex=E),e.label=s=T.text(i.text,0,0,i.useHTML).attr(x).css(i.style).add()),m=[p[1],p[4],f?p[6]:p[1]],g=[p[2],p[5],f?p[7]:p[2]],y=$t(m),b=$t(g),s.align(i,!1,{x:y,y:b,width:Jt(m)-y,height:Jt(g)-b}),s.show()):s&&s.hide(),e},destroy:function(){Ot(this.axis.plotLinesAndBands,this),delete this.axis,Kt(this)}},et={getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(e,null,null,!0);return r&&n&&r.toString()!==n.toString()?r.push(n[4],n[5],n[1],n[2]):r=null,r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new wt.PlotLineOrBand(this,e)).render(),r=this.userOptions;return n&&(t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;while(i--)t[i].id===e&&t[i].destroy();on([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){i=t.length;while(i--)t[i].id===e&&Ot(t,t[i])})}};var Dn=wt.Axis=function(){this.init.apply(this,arguments)};Dn.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return wt.numberFormat(this.total,-1)},style:St(mn.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(t,n){var r=n.isX,i=this;i.chart=t,i.horiz=t.inverted?!r:r,i.isXAxis=r,i.coll=r?"xAxis":"yAxis",i.opposite=n.opposite,i.side=n.side||(i.horiz?i.opposite?0:2:i.opposite?1:3),i.setOptions(n);var s=this.options,o=s.type,u=o==="datetime";i.labelFormatter=s.labels.formatter||i.defaultLabelFormatter,i.userOptions=n,i.minPixelPadding=0,i.reversed=s.reversed,i.visible=s.visible!==!1,i.zoomEnabled=s.zoomEnabled!==!1,i.categories=s.categories||o==="category",i.names=i.names||[],i.isLog=o==="logarithmic",i.isDatetimeAxis=u,i.isLinked=Mt(s.linkedTo),i.ticks={},i.labelEdge=[],i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=s.minRange||s.maxZoom,i.range=s.range,i.offset=s.offset||0,i.stacks={},i.oldStacks={},i.stacksTouched=0,i.max=null,i.min=null,i.crosshair=Pt(s.crosshair,Dt(t.options.tooltip.crosshairs)[r?0:1],!1);var a,f=i.options.events;sn(i,t.axes)===-1&&(r&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,i):t.axes.push(i),t[i.coll].push(i)),i.series=i.series||[],t.inverted&&r&&i.reversed===e&&(i.reversed=!0),i.removePlotBand=i.removePlotBandOrLine,i.removePlotLine=i.removePlotBandOrLine;for(a in f)ln(i,a,f[a]);i.isLog&&(i.val2lin=Lt,i.lin2val=At)},setOptions:function(e){this.options=St(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],St(O[this.coll],e))},defaultLabelFormatter:function(){var t=this.axis,n=this.value,r=t.categories,i=this.dateTimeLabelFormat,s=O.lang.numericSymbols,o=s&&s.length,u,a,l=t.options.labels.format,c=t.isLog?n:t.tickInterval;if(l)a=zt(l,this);else if(r)a=n;else if(i)a=M(i,n);else if(o&&c>=1e3)while(o--&&a===e)u=Math.pow(1e3,o+1),c>=u&&n*10%u===0&&s[o]!==null&&(a=wt.numberFormat(n/u,-1)+s[o]);return a===e&&(f(n)>=1e4?a=wt.numberFormat(n,-1):a=wt.numberFormat(n,-1,e,"")),a},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),on(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r=n.options,i,s=r.threshold,o,f;e.hasVisibleSeries=!0,e.isLog&&s<=0&&(s=null);if(e.isXAxis)i=n.xData,i.length&&(e.dataMin=a(Pt(e.dataMin,i[0]),$t(i)),e.dataMax=u(Pt(e.dataMax,i[0]),Jt(i)));else{n.getExtremes(),f=n.dataMax,o=n.dataMin,Mt(o)&&Mt(f)&&(e.dataMin=a(Pt(e.dataMin,o),o),e.dataMax=u(Pt(e.dataMax,f),f)),Mt(s)&&(e.threshold=s);if(!r.softThreshold||e.isLog)e.softThreshold=!1}}})},translate:function(e,t,n,r,i,s){var o=this.linkedParent||this,u=1,a=0,f=r?o.oldTransA:o.transA,l=r?o.oldMin:o.min,c,h=o.minPixelPadding,p=(o.doPostTranslate||o.isLog&&i)&&o.lin2val;return f||(f=o.transA),n&&(u*=-1,a=o.len),o.reversed&&(u*=-1,a-=u*(o.sector||o.len)),t?(e=e*u+a,e-=h,c=e/f+l,p&&(c=o.lin2val(c))):(p&&(e=o.val2lin(e)),s==="between"&&(s=.5),c=u*(e-l)*f+a+u*h+(kt(s)?f*s*o.pointRange:0)),c},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r,s){var o=this,f=o.chart,l=o.left,c=o.top,h,p,d,v,m=n&&f.oldChartHeight||f.chartHeight,g=n&&f.oldChartWidth||f.chartWidth,y,b=o.transB,w=function(e,t,n){if(e<t||e>n)r?e=a(u(t,e),n):y=!0;return e};return s=Pt(s,o.translate(e,null,null,n)),h=d=i(s+b),p=v=i(m-s-b),isNaN(s)?y=!0:o.horiz?(p=c,v=m-o.bottom,h=d=w(h,l,l+o.width)):(h=l,d=g-o.right,p=v=w(p,c,c+o.height)),y&&!r?null:f.renderer.crispLine([$,h,p,J,d,v],t||1)},getLinearTickPositions:function(e,t,n){var r,i,u=Yt(s(t/e)*e),a=Yt(o(n/e)*e),f=[];if(t===n&&kt(t))return[t];r=u;while(r<=a){f.push(r),r=Yt(r+e);if(r===i)break;i=r}return f},getMinorTickPositions:function(){var e=this,t=e.options,n=e.tickPositions,r=e.minorTickInterval,i=[],s,o,u=e.pointRangePadding||0,a=e.min-u,f=e.max+u,l=f-a,c;if(l&&l/r<e.len/3)if(e.isLog){c=n.length;for(o=1;o<c;o++)i=i.concat(e.getLogTickPositions(r,n[o-1],n[o],!0))}else if(e.isDatetimeAxis&&t.minorTickInterval==="auto")i=i.concat(e.getTimeTicks(e.normalizeTimeTickInterval(r),a,f,t.startOfWeek));else for(s=a+(n[0]-a)%r;s<=f;s+=r)i.push(s);return i.length!==0&&e.trimTicks(i,t.startOnTick,t.endOnTick),i},adjustForMinRange:function(){var t=this,n=t.options,r=t.min,i=t.max,s,o=t.dataMax-t.dataMin>=t.minRange,u,f,l,c,h,p,d,v;t.isXAxis&&t.minRange===e&&!t.isLog&&(Mt(n.min)||Mt(n.max)?t.minRange=null:(on(t.series,function(t){c=t.xData,h=t.xIncrement?1:c.length-1;for(f=h;f>0;f--){l=c[f]-c[f-1];if(u===e||l<u)u=l}}),t.minRange=a(u*5,t.dataMax-t.dataMin))),i-r<t.minRange&&(v=t.minRange,s=(v-i+r)/2,p=[r-s,Pt(n.min,r-s)],o&&(p[2]=t.dataMin),r=Jt(p),d=[r+v,Pt(n.max,r+v)],o&&(d[2]=t.dataMax),i=$t(d),i-r<v&&(p[0]=i-v,p[1]=Pt(n.min,i-v),r=Jt(p))),t.min=r,t.max=i},setAxisTranslation:function(e){var t=this,n=t.max-t.min,r=t.axisPointRange||0,i,s=0,o=0,f=t.linkedParent,l,c=!!t.categories,h=t.transA,p=t.isXAxis;if(p||c||r)f?(s=f.minPointOffset,o=f.pointRangePadding):on(t.series,function(e){var n=c?1:p?e.pointRange:t.axisPointRange||0,f=e.options.pointPlacement,l=e.closestPointRange;r=u(r,n),t.single||(s=u(s,Tt(f)?0:n/2),o=u(o,f==="on"?0:n)),!e.noSharedTooltip&&Mt(l)&&(i=Mt(i)?a(i,l):l)}),l=t.ordinalSlope&&i?t.ordinalSlope/i:1,t.minPointOffset=s*=l,t.pointRangePadding=o*=l,t.pointRange=a(r,n),p&&(t.closestPointRange=i);e&&(t.oldTransA=h),t.translationSlope=t.transA=h=t.len/(n+o||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=h*s},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var t=this,n=t.chart,r=t.options,i=t.isLog,s=t.isDatetimeAxis,o=t.isXAxis,f=t.isLinked,l=r.maxPadding,c=r.minPadding,h,p,d=r.tickInterval,v,m=r.tickPixelInterval,g=t.categories,y=t.threshold,b=t.softThreshold,w,E,S,x;!s&&!g&&!f&&this.getTickAmount(),S=Pt(t.userMin,r.min),x=Pt(t.userMax,r.max),f?(t.linkedParent=n[t.coll][r.linkedTo],p=t.linkedParent.getExtremes(),t.min=Pt(p.min,p.dataMin),t.max=Pt(p.max,p.dataMax),r.type!==t.linkedParent.options.type&&Gt(11,1)):(!b&&Mt(y)&&(t.dataMin>=y?(w=y,c=0):t.dataMax<=y&&(E=y,l=0)),t.min=Pt(S,w,t.dataMin),t.max=Pt(x,E,t.dataMax)),i&&(!e&&a(t.min,Pt(t.dataMin,t.min))<=0&&Gt(10,1),t.min=Yt(Lt(t.min),15),t.max=Yt(Lt(t.max),15)),t.range&&Mt(t.max)&&(t.userMin=t.min=S=u(t.min,t.minFromRange()),t.userMax=x=t.max,t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!g&&!t.axisPointRange&&!t.usePercentage&&!f&&Mt(t.min)&&Mt(t.max)&&(h=t.max-t.min,h&&(!Mt(S)&&c&&(t.min-=h*c),!Mt(x)&&l&&(t.max+=h*l))),kt(r.floor)&&(t.min=u(t.min,r.floor)),kt(r.ceiling)&&(t.max=a(t.max,r.ceiling)),b&&Mt(t.dataMin)&&(y=y||0,!Mt(S)&&t.min<y&&t.dataMin>=y?t.min=y:!Mt(x)&&t.max>y&&t.dataMax<=y&&(t.max=y)),t.min===t.max||t.min===undefined||t.max===undefined?t.tickInterval=1:f&&!d&&m===t.linkedParent.options.tickPixelInterval?t.tickInterval=d=t.linkedParent.tickInterval:t.tickInterval=Pt(d,this.tickAmount?(t.max-t.min)/u(this.tickAmount-1,1):undefined,g?1:(t.max-t.min)*m/u(t.len,m)),o&&!e&&on(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=u(t.pointRange,t.tickInterval)),v=Pt(r.minTickInterval,t.isDatetimeAxis&&t.closestPointRange),!d&&t.tickInterval<v&&(t.tickInterval=v),!s&&!i&&!d&&(t.tickInterval=Xt(t.tickInterval,null,Wt(t.tickInterval),Pt(r.allowDecimals,!(t.tickInterval>.5&&t.tickInterval<5&&t.max>1e3&&t.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(t.tickInterval=t.unsquish()),this.setTickPositions()},setTickPositions:function(){var e=this.options,t,n=e.tickPositions,r=e.tickPositioner,i=e.startOnTick,s=e.endOnTick,o;this.tickmarkOffset=this.categories&&e.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=e.minorTickInterval==="auto"&&this.tickInterval?this.tickInterval/5:e.minorTickInterval,this.tickPositions=t=n&&n.slice(),t||(this.isDatetimeAxis?t=this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?t=this.getLogTickPositions(this.tickInterval,this.min,this.max):t=this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max]),r&&(this.tickPositions=t=r))),this.isLinked||(this.trimTicks(t,i,s),this.min===this.max&&Mt(this.min)&&!this.tickAmount&&(o=!0,this.min-=.5,this.max+=.5),this.single=o,!n&&!r&&this.adjustTickAmount())},trimTicks:function(e,t,n){var r=e[0],i=e[e.length-1],s=this.minPointOffset||0;t?this.min=r:this.min-s>r&&e.shift(),n?this.max=i:this.max+s<i&&e.pop(),e.length===0&&Mt(r)&&e.push((i+r)/2)},getTickAmount:function(){var e={},t,n=this.options,r=n.tickAmount,i=n.tickPixelInterval;!Mt(n.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&n.startOnTick&&n.endOnTick&&(r=2),!r&&this.chart.options.chart.alignTicks!==!1&&n.alignTicks!==!1&&(on(this.chart[this.coll],function(n){var r=n.options,i=n.horiz,s=[i?r.left:r.top,i?r.width:r.height,r.pane].join(",");n.series.length&&(e[s]?t=!0:e[s]=1)}),t&&(r=o(this.len/i)+1)),r<4&&(this.finalTickAmt=r,r=5),this.tickAmount=r},adjustTickAmount:function(){var t=this.tickInterval,n=this.tickPositions,r=this.tickAmount,i=this.finalTickAmt,s=n&&n.length,o,u;if(s<r){while(n.length<r)n.push(Yt(n[n.length-1]+t));this.transA*=(s-1)/(r-1),this.max=n[n.length-1]}else s>r&&(this.tickInterval*=2,this.setTickPositions());if(Mt(i)){o=u=n.length;while(o--)(i===3&&o%2===1||i<=2&&o>0&&o<u-1)&&n.splice(o,1);this.finalTickAmt=e}},setScale:function(){var e=this,t,n;e.oldMin=e.min,e.oldMax=e.max,e.oldAxisLength=e.len,e.setAxisSize(),n=e.len!==e.oldAxisLength,on(e.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty)t=!0}),n||t||e.isLinked||e.forceRedraw||e.userMin!==e.oldUserMin||e.userMax!==e.oldUserMax?(e.resetStacks&&e.resetStacks(),e.forceRedraw=!1,e.getSeriesExtremes(),e.setTickInterval(),e.oldUserMin=e.userMin,e.oldUserMax=e.userMax,e.isDirty||(e.isDirty=n||e.min!==e.oldMin||e.max!==e.oldMax)):e.cleanStacks&&e.cleanStacks()},setExtremes:function(e,t,n,r,i){var s=this,o=s.chart;n=Pt(n,!0),on(s.series,function(e){delete e.kdTree}),i=Et(i,{min:e,max:t}),hn(s,"setExtremes",i,function(){s.userMin=e,s.userMax=t,s.eventArgs=i,n&&o.redraw(r)})},zoom:function(t,n){var r=this.dataMin,i=this.dataMax,s=this.options,o=a(r,Pt(s.min,r)),f=u(i,Pt(s.max,i));return this.allowZoomOutside||(Mt(r)&&t<=o&&(t=o),Mt(i)&&n>=f&&(n=f)),this.displayBtn=t!==e||n!==e,this.setExtremes(t,n,!1,e,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=t.offsetRight||0,i=this.horiz,s=Pt(t.width,e.plotWidth-n+r),o=Pt(t.height,e.plotHeight),a=Pt(t.top,e.plotTop),f=Pt(t.left,e.plotLeft+n),l=/%$/;l.test(o)&&(o=parseFloat(o)/100*e.plotHeight),l.test(a)&&(a=parseFloat(a)/100*e.plotHeight+e.plotTop),this.left=f,this.top=a,this.width=s,this.height=o,this.bottom=e.chartHeight-o-a,this.right=e.chartWidth-s-f,this.len=u(i?s:o,0),this.pos=i?f:a},getExtremes:function(){var e=this,t=e.isLog;return{min:t?Yt(At(e.min)):e.min,max:t?Yt(At(e.max)):e.max,dataMin:e.dataMin,dataMax:e.dataMax,userMin:e.userMin,userMax:e.userMax}},getThreshold:function(e){var t=this,n=t.isLog,r=n?At(t.min):t.min,i=n?At(t.max):t.max;return e===null?e=i<0?i:r:r>e?e=r:i<e&&(e=i),t.translate(e,0,1,0,1)},autoLabelAlign:function(e){var t,n=(Pt(e,0)-this.side*90+720)%360;return n>15&&n<165?t="right":n>195&&n<345?t="left":t="center",t},unsquish:function(){var e=this.chart,t=this.ticks,n=this.options.labels,r=this.horiz,i=this.tickInterval,s=i,u=this.len/(((this.categories?1:0)+this.max-this.min)/i),a,l=n.rotation,h=e.renderer.fontMetrics(n.style.fontSize,t[0]&&t[0].label),d,v=Number.MAX_VALUE,m,g=function(e){var t=e/(u||1);return t=t>1?o(t):1,t*i};return r?(m=!n.staggerLines&&!n.step&&(Mt(l)?[l]:u<Pt(n.autoRotationLimit,80)&&n.autoRotation),m&&on(m,function(e){var t;if(e===l||e&&e>=-90&&e<=90)d=g(f(h.h/c(p*e))),t=d+f(e/360),t<v&&(v=t,a=e,s=d)})):n.step||(s=g(h.h)),this.autoRotation=m,this.labelRotation=Pt(a,l),s},renderUnsquish:function(){var e=this.chart,t=e.renderer,n=this.tickPositions,r=this.ticks,s=this.options.labels,o=this.horiz,a=e.margin,f=this.categories?n.length:n.length-1,l=this.slotWidth=o&&!s.step&&!s.rotation&&(this.staggerLines||1)*e.plotWidth/f||!o&&(a[3]&&a[3]-e.spacing[3]||e.chartWidth*.33),c=u(1,i(l-2*(s.padding||5))),h={},p=t.fontMetrics(s.style.fontSize,r[0]&&r[0].label),d=s.style.textOverflow,v,m=0,g,y,b;Tt(s.rotation)||(h.rotation=s.rotation||0);if(this.autoRotation)on(n,function(e){e=r[e],e&&e.labelLength>m&&(m=e.labelLength)}),m>c&&m>p.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(l){v={width:c+X};if(!d){v.textOverflow="clip",y=n.length;while(!o&&y--)b=n[y],g=r[b].label,g&&(g.styles.textOverflow==="ellipsis"&&g.css({textOverflow:"clip"}),g.getBBox().height>this.len/n.length-(p.h-p.f)&&(g.specCss={textOverflow:"ellipsis"}))}}h.rotation&&(v={width:(m>e.chartHeight*.5?e.chartHeight*.33:e.chartHeight)+X},d||(v.textOverflow="ellipsis")),this.labelAlign=h.align=s.align||this.autoLabelAlign(this.labelRotation),on(n,function(e){var t=r[e],n=t&&t.label;n&&(n.attr(h),v&&n.css(St(v,n.specCss)),delete n.specCss,t.rotation=h.rotation)}),this.tickRotCorr=t.rotCorr(p.b,this.labelRotation||0,this.side===2)},hasData:function(){return this.hasVisibleSeries||Mt(this.min)&&Mt(this.max)&&!!this.tickPositions},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,o=e.ticks,a=e.horiz,f=e.side,l=t.inverted?[1,0,3,2][f]:f,c,h,p=0,d,v=0,m=r.title,g=r.labels,y=0,b,w=t.axisOffset,E=t.clipOffset,S,x=[-1,1,1,-1][f],T,N=e.axisParent,C;c=e.hasData(),e.showAxis=h=c||Pt(r.showEmpty,!0),e.staggerLines=e.horiz&&g.staggerLines,e.axisGroup||(e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add(N),e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).add(N),e.labelGroup=n.g("axis-labels").attr({zIndex:g.zIndex||7}).addClass(z+e.coll.toLowerCase()+"-labels").add(N));if(c||e.isLinked)on(i,function(t){o[t]?o[t].addLabel():o[t]=new _n(e,t)}),e.renderUnsquish(),on(i,function(t){if(f===0||f===2||{1:"left",3:"right"}[f]===e.labelAlign)y=u(o[t].getLabelSize(),y)}),e.staggerLines&&(y*=e.staggerLines,e.labelOffset=y);else for(T in o)o[T].destroy(),delete o[T];m&&m.text&&m.enabled!==!1&&(e.axisTitle||(e.axisTitle=n.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).addClass(z+this.coll.toLowerCase()+"-title").css(m.style).add(e.axisGroup),e.axisTitle.isNew=!0),h&&(p=e.axisTitle.getBBox()[a?"height":"width"],d=m.offset,v=Mt(d)?0:Pt(m.margin,a?5:10)),e.axisTitle[h?"show":"hide"]()),e.offset=x*Pt(r.offset,w[f]),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},C=f===2?e.tickRotCorr.y:0,b=y+v+(y&&x*(a?Pt(g.y,e.tickRotCorr.y+8):g.x)-C),e.axisTitleMargin=Pt(d,b),w[f]=u(w[f],e.axisTitleMargin+p+x*e.offset,b),S=r.offset?0:s(r.lineWidth/2)*2,E[l]=u(E[l],S)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,o=t.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(e*=-1),t.renderer.crispLine([$,i?this.left:s,i?o:this.top,J,i?t.chartWidth-this.right:s,i?o:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,i=this.options.title,s=e?t:n,o=this.opposite,u=this.offset,a=i.x||0,f=i.y||0,l=xt(i.style.fontSize||12),c={low:s+(e?0:r),middle:s+r/2,high:s+(e?r:0)}[i.align],h=(e?n+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+(this.side===2?l:0);return{x:e?c+a:h+(o?this.width:0)+u+a,y:e?h+f-(o?this.height:0)+u:c+f}},render:function(){var t=this,n=t.chart,r=n.renderer,i=t.options,s=t.isLog,o=t.isLinked,u=t.tickPositions,a=t.axisTitle,f=t.ticks,l=t.minorTicks,c=t.alternateBands,h=i.stackLabels,p=i.alternateGridColor,d=t.tickmarkOffset,v=i.lineWidth,m,g=n.hasRendered,y=g&&Mt(t.oldMin)&&!isNaN(t.oldMin),b=t.showAxis,w=r.globalAnimation,E,S;t.labelEdge.length=0,t.overlap=!1,on([f,l,c],function(e){var t;for(t in e)e[t].isActive=!1});if(t.hasData()||o)t.minorTickInterval&&!t.categories&&on(t.getMinorTickPositions(),function(e){l[e]||(l[e]=new _n(t,e,"minor")),y&&l[e].isNew&&l[e].render(null,!0),l[e].render(null,!1,1)}),u.length&&(on(u,function(e,n){if(!o||e>=t.min&&e<=t.max)f[e]||(f[e]=new _n(t,e)),y&&f[e].isNew&&f[e].render(n,!0,.1),f[e].render(n)}),d&&(t.min===0||t.single)&&(f[-1]||(f[-1]=new _n(t,-1,null,!0)),f[-1].render(-1))),p&&on(u,function(n,r){S=u[r+1]!==e?u[r+1]+d:t.max-d,r%2===0&&n<t.max&&S<=t.max-d&&(c[n]||(c[n]=new wt.PlotLineOrBand(t)),E=n+d,c[n].options={from:s?At(E):E,to:s?At(S):S,color:p},c[n].render(),c[n].isActive=!0)}),t._addedPlotLB||(on((i.plotLines||[]).concat(i.plotBands||[]),function(e){t.addPlotBandOrLine(e)}),t._addedPlotLB=!0);on([f,l,c],function(e){var t,r,i=[],s=w?w.duration||500:0,o=function(){r=i.length;while(r--)e[i[r]]&&!e[i[r]].isActive&&(e[i[r]].destroy(),delete e[i[r]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,i.push(t));e===c||!n.hasRendered||!s?o():s&&setTimeout(o,s)}),v&&(m=t.getLinePath(v),t.axisLine?t.axisLine.animate({d:m}):t.axisLine=r.path(m).attr({stroke:i.lineColor,"stroke-width":v,zIndex:7}).add(t.axisGroup),t.axisLine[b?"show":"hide"]()),a&&b&&(a[a.isNew?"attr":"animate"](t.getTitlePosition()),a.isNew=!1),h&&h.enabled&&t.renderStackTotals(),t.isDirty=!1},redraw:function(){this.visible&&(this.render(),on(this.plotLinesAndBands,function(e){e.render()})),on(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t=this,n=t.stacks,r,i=t.plotLinesAndBands,s;e||cn(t);for(r in n)Kt(n[r]),n[r]=null;on([t.ticks,t.minorTicks,t.alternateBands],function(e){Kt(e)}),s=i.length;while(s--)i[s].destroy();on(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){var n,r=this.crosshair,i=r.animation,s,o,u;if(!this.crosshair||(Mt(t)||!Pt(this.crosshair.snap,!0))===!1||t&&t.series&&t.series[this.coll]!==this)this.hideCrosshair();else{Pt(r.snap,!0)?Mt(t)&&(s=this.isXAxis?t.plotX:this.len-t.plotY):s=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,this.isRadial?n=this.getPlotLinePath(this.isXAxis?t.x:Pt(t.stackY,t.y))||null:n=this.getPlotLinePath(null,null,null,null,s)||null;if(n===null){this.hideCrosshair();return}this.cross?this.cross.attr({visibility:W})[i?"animate":"attr"]({d:n},i):(u=this.categories&&!this.isRadial,o={"stroke-width":r.width||(u?this.transA:1),stroke:r.color||(u?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:r.zIndex||2},r.dashStyle&&(o.dashstyle=r.dashStyle),this.cross=this.chart.renderer.path(n).attr(o).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},Et(Dn.prototype,et),Dn.prototype.getTimeTicks=function(e,t,n,r){var i=[],o,u={},a=O.global.useUTC,f,l=new nt(t-Rt(t)),c=e.unitRange,h=e.count;if(Mt(t)){l[ht](c>=D.second?0:h*s(l.getMilliseconds()/h)),c>=D.second&&l[pt](c>=D.minute?0:h*s(l.getSeconds()/h)),c>=D.minute&&l[dt](c>=D.hour?0:h*s(l[ot]()/h)),c>=D.hour&&l[vt](c>=D.day?0:h*s(l[ut]()/h)),c>=D.day&&l[mt](c>=D.month?1:h*s(l[ft]()/h)),c>=D.month&&(l[gt](c>=D.year?0:h*s(l[lt]()/h)),f=l[ct]()),c>=D.year&&(f-=f%h,l[yt](f)),c===D.week&&l[mt](l[ft]()-l[at]()+Pt(r,1)),o=1;if(it||st)l=l.getTime(),l=new nt(l+Rt(l));f=l[ct]();var p=l.getTime(),d=l[lt](),v=l[ft](),m=(D.day+(a?Rt(l):l.getTimezoneOffset()*60*1e3))%D.day;while(p<n)i.push(p),c===D.year?p=rt(f+o*h,0):c===D.month?p=rt(f,d+o*h):!!a||c!==D.day&&c!==D.week?p+=c*h:p=rt(f,d,v+o*h*(c===D.day?1:7)),o++;i.push(p),on(un(i,function(e){return c<=D.hour&&e%D.day===m}),function(e){u[e]="day"})}return i.info=Et(e,{higherRanks:u,totalRange:c*h}),i},Dn.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],i=D[r[0]],s=r[1],o,a;for(a=0;a<n.length;a++){r=n[a],i=D[r[0]],s=r[1];if(n[a+1]){var f=(i*s[s.length-1]+D[n[a+1][0]])/2;if(e<=f)break}}return i===D.year&&e<5*i&&(s=[1,2,5]),o=Xt(e/i,s,r[0]==="year"?u(Wt(e/i),1):1),{unitRange:i,count:o,unitName:r[0]}},Dn.prototype.getLogTickPositions=function(t,n,r,o){var u=this,a=u.options,f=u.len,l=[];o||(u._minorAutoInterval=null);if(t>=.5)t=i(t),l=u.getLinearTickPositions(t,n,r);else if(t>=.08){var c=s(n),h,p,d,v,m,g,y;t>.3?h=[1,2,4]:t>.15?h=[1,2,4,6,8]:h=[1,2,3,4,5,6,7,8,9];for(p=c;p<r+1&&!y;p++){v=h.length;for(d=0;d<v&&!y;d++)m=Lt(At(p)*h[d]),m>n&&(!o||g<=r)&&g!==e&&l.push(g),g>r&&(y=!0),g=m}}else{var b=At(n),w=At(r),E=a[o?"minorTickInterval":"tickInterval"],S=E==="auto"?null:E,x=a.tickPixelInterval/(o?5:1),T=o?f/u.tickPositions.length:f;t=Pt(S,u._minorAutoInterval,(w-b)*x/(T||1)),t=Xt(t,null,Wt(t)),l=fn(u.getLinearTickPositions(t,b,w),Lt),o||(u._minorAutoInterval=t/5)}return o||(u.tickInterval=t),l};var Pn=wt.Tooltip=function(){this.init.apply(this,arguments)};Pn.prototype={init:function(e,t){var n=t.borderWidth,r=t.style,i=xt(r.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:i,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-9999}),T||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,n,r,i){var s=this,o=s.now,u=s.options.animation!==!1&&!s.isHidden&&(f(t-o.x)>1||f(n-o.y)>1),a=s.followPointer||s.len>1;Et(o,{x:u?(2*o.x+t)/3:t,y:u?(o.y+n)/2:n,anchorX:a?e:u?(2*o.anchorX+r)/3:r,anchorY:a?e:u?(o.anchorY+i)/2:i}),s.label.attr(o),u&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,n,r,i)},32))},hide:function(e){var t=this,n;clearTimeout(this.hideTimer),this.isHidden||(n=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},Pt(e,this.options.hideDelay,500)))},getAnchor:function(t,n){var r,s=this.chart,o=s.inverted,u=s.plotTop,a=s.plotLeft,f=0,l=0,c,h;return t=Dt(t),r=t[0].tooltipPos,this.followPointer&&n&&(n.chartX===e&&(n=s.pointer.normalize(n)),r=[n.chartX-s.plotLeft,n.chartY-u]),r||(on(t,function(e){c=e.series.yAxis,h=e.series.xAxis,f+=e.plotX+(!o&&h?h.left-a:0),l+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!o&&c?c.top-u:0)}),f/=t.length,l/=t.length,r=[o?s.plotWidth-l:f,this.shared&&!o&&t.length>1&&n?n.chartY-u:o?s.plotHeight-f:l]),fn(r,i)},getPosition:function(e,t,n){var r=this.chart,i=this.distance,s={},o=n.h||0,f,l=["y",r.chartHeight,t,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],c=["x",r.chartWidth,e,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],h=Pt(n.ttBelow,r.inverted&&!n.negative||!r.inverted&&n.negative),p=function(e,t,n,r,f,l){var c=n<r-i,p=r+i+n<t,d=r-i-n,v=r+i;if(h&&p)s[e]=v;else if(!h&&c)s[e]=d;else if(c)s[e]=a(l-n,d-o<0?d:d-o);else{if(!p)return!1;s[e]=u(f,v+o+n>t?v:v+o)}},d=function(e,t,n,r){if(r<i||r>t-i)return!1;r<n/2?s[e]=1:r>t-n/2?s[e]=t-n-2:s[e]=r-n/2},v=function(e){var t=l;l=c,c=t,f=e},m=function(){p.apply(0,l)!==!1?d.apply(0,c)===!1&&!f&&(v(!0),m()):f?s.x=s.y=0:(v(!0),m())};return(r.inverted||this.len>1)&&v(),m(),s},defaultFormatter:function(e){var t=this.points||Dt(this),n;return n=[e.tooltipFooterHeaderFormatter(t[0])],n=n.concat(e.bodyFormatter(t)),n.push(e.tooltipFooterHeaderFormatter(t[0],!0)),n.join("")},refresh:function(e,t){var n=this,r=n.chart,i=n.label,s=n.options,o,u,a,f={},l,c=[],h=s.formatter||n.defaultFormatter,p=r.hoverPoints,d,v=n.shared,m;clearTimeout(this.hideTimer),n.followPointer=Dt(e)[0].series.tooltipOptions.followPointer,a=n.getAnchor(e,t),o=a[0],u=a[1],v&&(!e.series||!e.series.noSharedTooltip)?(r.hoverPoints=e,p&&on(p,function(e){e.setState()}),on(e,function(e){e.setState(G),c.push(e.getLabelConfig())}),f={x:e[0].category,y:e[0].y},f.points=c,this.len=c.length,e=e[0]):f=e.getLabelConfig(),l=h.call(f,n),m=e.series,this.distance=Pt(m.tooltipOptions.distance,16),l===!1?this.hide():(n.isHidden&&(vn(i),i.attr("opacity",1).show()),i.attr({text:l}),d=s.borderColor||e.color||m.color||"#606060",i.attr({stroke:d}),n.updatePosition({plotX:o,plotY:u,negative:e.negative,ttBelow:e.ttBelow,h:a[2]||0}),this.isHidden=!1),hn(r,"tooltipRefresh",{text:l,x:o+r.plotLeft,y:u+r.plotTop,borderColor:d})},updatePosition:function(e){var t=this.chart,n=this.label,r=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(i(r.x),i(r.y||0),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,n){var r,i=t.dateTimeLabelFormats,s=n&&n.closestPointRange,o,u="01-01 00:00:00.000",a={millisecond:15,second:12,minute:9,hour:6,day:3},f,l="millisecond";if(s){f=M("%m-%d %H:%M:%S.%L",e.x);for(o in D){if(s===D.week&&+M("%w",e.x)===n.options.startOfWeek&&f.substr(6)===u.substr(6)){o="week";break}if(D[o]>s){o=l;break}if(a[o]&&f.substr(a[o])!==u.substr(a[o]))break;o!=="week"&&(l=o)}o&&(r=i[o])}else r=i.day;return r||i.year},tooltipFooterHeaderFormatter:function(e,t){var n=t?"footer":"header",r=e.series,i=r.tooltipOptions,s=i.xDateFormat,o=r.xAxis,u=o&&o.options.type==="datetime"&&kt(e.key),a=i[n+"Format"];return u&&!s&&(s=this.getXDateFormat(e,i,o)),u&&s&&(a=a.replace("{point.key}","{point.key:"+s+"}")),zt(a,{point:e,series:r})},bodyFormatter:function(e){return fn(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}};var Hn;C=t.documentElement.ontouchstart!==e;var Bn=wt.Pointer=function(e,t){this.init(e,t)};Bn.prototype={init:function(e,t){var n=t.chart,r=n.events,i=T?"":n.zoomType,s=e.inverted,o,u;this.options=t,this.chart=e,this.zoomX=o=/x/.test(i),this.zoomY=u=/y/.test(i),this.zoomHor=o&&!s||u&&s,this.zoomVert=u&&!s||o&&s,this.hasZoom=o||u,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},wt.Tooltip&&t.tooltip.enabled&&(e.tooltip=new Pn(e,t.tooltip),this.followTouchMove=Pt(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(t,n){var r,s,o;return t=t||window.event,t=pn(t),t.target||(t.target=t.srcElement),o=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,n||(this.chartPosition=n=an(this.chart.container)),o.pageX===e?(r=u(t.x,t.clientX-n.left),s=t.y):(r=o.pageX-n.left,s=o.pageY-n.top),Et(t,{chartX:i(r),chartY:i(s)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return on(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},runPointActions:function(e){var n=this,r=n.chart,i=r.series,s=r.tooltip,o=s?s.shared:!1,u,a=r.hoverPoint,f=r.hoverSeries,l,c=Number.MAX_VALUE,h,p,d,v,m=[],g,y;if(!o&&!f)for(l=0;l<i.length;l++)if(i[l].directTouch||!i[l].options.stickyTracking)i=[];d=f&&(o?f.noSharedTooltip:f.directTouch),d&&a?g=a:(on(i,function(t){p=t.noSharedTooltip&&o,v=!o&&t.directTouch,t.visible&&!p&&!v&&Pt(t.options.enableMouseTracking,!0)&&(y=t.searchPoint(e,!p&&t.kdDimensions===1),y&&m.push(y))}),on(m,function(e){e&&typeof e.dist=="number"&&e.dist<c&&(c=e.dist,g=e)}));if(g&&(g!==this.prevKDPoint||s&&s.isHidden)){if(o&&!g.series.noSharedTooltip){l=m.length;while(l--)(m[l].clientX!==g.clientX||m[l].series.noSharedTooltip)&&m.splice(l,1);m.length&&s&&s.refresh(m,e),on(m,function(t){t.onMouseOver(e,t!==(f&&f.directTouch&&a||g))})}else s&&s.refresh(g,e),(!f||!f.directTouch)&&g.onMouseOver(e);this.prevKDPoint=g}else u=f&&f.tooltipOptions.followPointer,s&&u&&!s.isHidden&&(h=s.getAnchor([{}],e),s.updatePosition({plotX:h[0],plotY:h[1]}));s&&!n._onDocumentMouseMove&&(n._onDocumentMouseMove=function(e){H[Hn]&&H[Hn].pointer.onDocumentMouseMove(e)},ln(t,"mousemove",n._onDocumentMouseMove)),on(r.axes,function(t){t.drawCrosshair(e,Pt(g,a))})},reset:function(n,r){var i=this,s=i.chart,o=s.hoverSeries,u=s.hoverPoint,a=s.hoverPoints,f=s.tooltip,l=f&&f.shared?a:u;n=n&&f&&l,n&&Dt(l)[0].plotX===e&&(n=!1),n?(f.refresh(l),u&&(u.setState(u.state,!0),on(s.axes,function(e){Pt(e.options.crosshair&&e.options.crosshair.snap,!0)?e.drawCrosshair(null,u):e.hideCrosshair()}))):(u&&u.onMouseOut(),a&&on(a,function(e){e.setState()}),o&&o.onMouseOut(),f&&f.hide(r),i._onDocumentMouseMove&&(cn(t,"mousemove",i._onDocumentMouseMove),i._onDocumentMouseMove=null),on(s.axes,function(e){e.hideCrosshair()}),i.hoverX=s.hoverPoints=s.hoverPoint=null)},scaleGroups:function(e,t){var n=this.chart,r;on(n.series,function(i){r=e||i.getPlotBox(),i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(r),i.markerGroup&&(i.markerGroup.attr(r),i.markerGroup.clip(t?n.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(r))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,l=t.plotWidth,c=t.plotHeight,h,p,d=this.selectionMarker,v=this.mouseDownX,m=this.mouseDownY,g=n.panKey&&e[n.panKey+"Key"];if(d&&d.touch)return;r<u?r=u:r>u+l&&(r=u+l),i<a?i=a:i>a+c&&(i=a+c),this.hasDragged=Math.sqrt(Math.pow(v-r,2)+Math.pow(m-i,2)),this.hasDragged>10&&(h=t.isInsidePlot(v-u,m-a),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&h&&!g&&(d||(this.selectionMarker=d=t.renderer.rect(u,a,s?1:l,o?1:c,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),d&&s&&(p=r-v,d.attr({width:f(p),x:(p>0?0:p)+v})),d&&o&&(p=i-m,d.attr({height:f(p),y:(p>0?0:p)+m})),h&&!d&&n.panning&&t.pan(e,n.panning))},drop:function(e){var t=this,n=this.chart,r=this.hasPinched;if(this.selectionMarker){var i={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},s=this.selectionMarker,o=s.attr?s.attr("x"):s.x,f=s.attr?s.attr("y"):s.y,l=s.attr?s.attr("width"):s.width,c=s.attr?s.attr("height"):s.height,h;if(this.hasDragged||r)on(n.axes,function(n){if(n.zoomEnabled&&Mt(n.min)&&(r||t[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var s=n.horiz,p=e.type==="touchend"?n.minPixelPadding:0,d=n.toValue((s?o:f)+p),v=n.toValue((s?o+l:f+c)-p);i[n.coll].push({axis:n,min:a(d,v),max:u(d,v)}),h=!0}}),h&&hn(n,"selection",i,function(e){n.zoom(Et(e,r?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy(),r&&this.scaleGroups()}n&&(Ht(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){H[Hn]&&H[Hn].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition;e=this.normalize(e,n),n&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=H[Hn];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;Hn=t.index,e=this.normalize(e),e.returnValue=!1,t.mouseIsDown==="mousedown"&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){var n;while(e){n=_t(e,"class");if(n){if(n.indexOf(t)!==-1)return!0;if(n.indexOf(z+"container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=e.relatedTarget||e.toElement;t&&!t.options.stickyTracking&&!this.inClass(n,z+"tooltip")&&!this.inClass(n,z+"series-"+t.index)&&t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,i=t.plotTop;e=this.normalize(e),e.originalEvent=e,t.cancelClick||(n&&this.inClass(e.target,z+"tracker")?(hn(n.series,"click",Et(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(Et(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-r,e.chartY-i)&&hn(t,"click",e)))},setDOMEvents:function(){var e=this,n=e.chart.container;n.onmousedown=function(t){e.onContainerMouseDown(t)},n.onmousemove=function(t){e.onContainerMouseMove(t)},n.onclick=function(t){e.onContainerClick(t)},ln(n,"mouseleave",e.onContainerMouseLeave),B===1&&ln(t,"mouseup",e.onDocumentMouseUp),C&&(n.ontouchstart=function(t){e.onContainerTouchStart(t)},n.ontouchmove=function(t){e.onContainerTouchMove(t)},B===1&&ln(t,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;cn(this.chart.container,"mouseleave",this.onContainerMouseLeave),B||(cn(t,"mouseup",this.onDocumentMouseUp),cn(t,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},Et(wt.Pointer.prototype,{pinchTranslate:function(e,t,n,r,i,s){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,r,i,s),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,r,i,s)},pinchTranslateDirection:function(e,t,n,r,i,s,o,u){var a=this.chart,l=e?"x":"y",c=e?"X":"Y",h="chart"+c,p=e?"width":"height",d=a["plot"+(e?"Left":"Top")],v,m,g,y=u||1,b=a.inverted,w=a.bounds[e?"h":"v"],E=t.length===1,S=t[0][h],x=n[0][h],T=!E&&t[1][h],N=!E&&n[1][h],C,k,L,A=function(){!E&&f(S-T)>20&&(y=u||f(x-N)/f(S-T)),g=(d-x)/y+S,v=a["plot"+(e?"Width":"Height")]/y};A(),m=g,m<w.min?(m=w.min,C=!0):m+v>w.max&&(m=w.max-v,C=!0),C?(x-=.8*(x-o[l][0]),E||(N-=.8*(N-o[l][1])),A()):o[l]=[x,N],b||(s[l]=g-d,s[p]=v),L=b?e?"scaleY":"scaleX":"scale"+c,k=b?1/y:y,i[p]=v,i[l]=m,r[L]=y,r["translate"+c]=k*d+(x-k*S)},pinch:function(e){var t=this,n=t.chart,r=t.pinchDown,i=e.touches,s=i.length,o=t.lastValidTouch,f=t.hasZoom,l=t.selectionMarker,c={},h=s===1&&(t.inClass(e.target,z+"tracker")&&n.runTrackerClick||t.runChartClick),p={};s>1&&(t.initiated=!0),f&&t.initiated&&!h&&e.preventDefault(),fn(i,function(e){return t.normalize(e)}),e.type==="touchstart"?(on(i,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}}),o.x=[r[0].chartX,r[1]&&r[1].chartX],o.y=[r[0].chartY,r[1]&&r[1].chartY],on(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(Pt(e.options.min,e.dataMin)),s=e.toPixels(Pt(e.options.max,e.dataMax)),o=a(i,s),f=u(i,s);t.min=a(e.pos,o-r),t.max=u(e.pos+e.len,f+r)}}),t.res=!0):r.length&&(l||(t.selectionMarker=l=Et({destroy:P,touch:!0},n.plotBox)),t.pinchTranslate(r,i,c,l,p,o),t.hasPinched=f,t.scaleGroups(c,p),!f&&t.followTouchMove&&s===1?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(e,t){var n=this.chart;Hn=n.index,e.touches.length===1?(e=this.normalize(e),n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)&&!n.openMenu?(t&&this.runPointActions(e),this.pinch(e)):t&&this.reset()):e.touches.length===2&&this.pinch(e)},onContainerTouchStart:function(e){this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){H[Hn]&&H[Hn].pointer.drop(e)}});if(n.PointerEvent||n.MSPointerEvent){var jn={},Fn=!!n.PointerEvent,In=function(){var e,t=[];t.item=function(e){return this[e]};for(e in jn)jn.hasOwnProperty(e)&&t.push({pageX:jn[e].pageX,pageY:jn[e].pageY,target:jn[e].target});return t},qn=function(e,t,n,r){var i;e=e.originalEvent||e,(e.pointerType==="touch"||e.pointerType===e.MSPOINTER_TYPE_TOUCH)&&H[Hn]&&(r(e),i=H[Hn].pointer,i[t]({type:n,target:e.currentTarget,preventDefault:P,touches:In()}))};Et(Bn.prototype,{onContainerPointerDown:function(e){qn(e,"onContainerTouchStart","touchstart",function(e){jn[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){qn(e,"onContainerTouchMove","touchmove",function(e){jn[e.pointerId]={pageX:e.pageX,pageY:e.pageY},jn[e.pointerId].target||(jn[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){qn(e,"onDocumentTouchEnd","touchend",function(e){delete jn[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,Fn?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,Fn?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(t,Fn?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),qt(Bn.prototype,"init",function(e,t,n){e.call(this,t,n),this.hasZoom&&Ht(t.container,{"-ms-touch-action":V,"touch-action":V})}),qt(Bn.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(ln)}),qt(Bn.prototype,"destroy",function(e){this.batchMSEvents(cn),e.call(this)})}var Rn=wt.Legend=function(e,t){this.init(e,t)};Rn.prototype={init:function(e,t){var n=this,r=t.itemStyle,i,s=t.itemMarginTop||0;this.options=t;if(!t.enabled)return;n.itemStyle=r,n.itemHiddenStyle=St(r,t.itemHiddenStyle),n.itemMarginTop=s,n.padding=i=Pt(t.padding,8),n.initialItemX=i,n.initialItemY=i-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.symbolWidth=Pt(t.symbolWidth,16),n.pages=[],n.render(),ln(n.chart,"endResize",function(){n.positionCheckboxes()})},colorizeItem:function(t,n){var r=this,i=r.options,s=t.legendItem,o=t.legendLine,u=t.legendSymbol,a=r.itemHiddenStyle.color,f=n?i.itemStyle.color:a,l=n?t.legendColor||t.color||"#CCC":a,c=t.options&&t.options.marker,h={fill:l},p,d;s&&s.css({fill:f,color:f}),o&&o.attr({stroke:l});if(u){if(c&&u.isMarker){h.stroke=l,c=t.convertAttribs(c);for(p in c)d=c[p],d!==e&&(h[p]=d)}u.attr(h)}},positionItem:function(e){var t=this,n=t.options,r=n.symbolPadding,i=!n.rtl,s=e._legendItemPos,o=s[0],u=s[1],a=e.checkbox,f=e.legendGroup;f&&f.element&&f.translate(i?o:t.legendWidth-o-2*r-4,u),a&&(a.x=o,a.y=u)},destroyItem:function(e){var t=e.checkbox;on(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&Qt(e.checkbox)},destroy:function(){var e=this,t=e.group,n=e.box;n&&(e.box=n.destroy()),t&&(e.group=t.destroy())},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;t&&(n=t.translateY,on(this.allItems,function(i){var s=i.checkbox,o;s&&(o=n+s.y+(e||0)+3,Ht(s,{left:t.translateX+i.checkboxOffset+s.x-20+X,top:o+X,display:o>n-6&&o<n+r-6?"":V}))}))},renderTitle:function(){var e=this.options,t=this.padding,n=e.title,r=0,i;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),i=this.title.getBBox(),r=i.height,this.offsetWidth=i.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},setText:function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?zt(t.labelFormat,e):t.labelFormatter.call(e)})},renderItem:function(e){var t=this,n=t.chart,r=n.renderer,s=t.options,o=s.layout==="horizontal",a=t.symbolWidth,f=s.symbolPadding,l=t.itemStyle,c=t.itemHiddenStyle,h=t.padding,p=o?Pt(s.itemDistance,20):0,d=!s.rtl,v,m=s.width,g=s.itemMarginBottom||0,y=t.itemMarginTop,b=t.initialItemX,w,E,S=e.legendItem,x=e.series&&e.series.drawLegendSymbol?e.series:e,T=x.options,N=t.createCheckboxForItem&&T&&T.showCheckbox,C=s.useHTML;S||(e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(t.scrollGroup),e.legendItem=S=r.text("",d?a+f:-f,t.baseline||0,C).css(St(e.visible?l:c)).attr({align:d?"left":"right",zIndex:2}).add(e.legendGroup),t.baseline||(t.fontMetrics=r.fontMetrics(l.fontSize,S),t.baseline=t.fontMetrics.f+3+y,S.attr("y",t.baseline)),x.drawLegendSymbol(t,e),t.setItemEvents&&t.setItemEvents(e,S,C,l,c),t.colorizeItem(e,e.visible),N&&t.createCheckboxForItem(e)),t.setText(e),w=S.getBBox(),E=e.checkboxOffset=s.itemWidth||e.legendItemWidth||a+f+w.width+p+(N?20:0),t.itemHeight=v=i(e.legendItemHeight||w.height),o&&t.itemX-b+E>(m||n.chartWidth-2*h-b-s.x)&&(t.itemX=b,t.itemY+=y+t.lastLineHeight+g,t.lastLineHeight=0),t.maxItemWidth=u(t.maxItemWidth,E),t.lastItemY=y+t.itemY+g,t.lastLineHeight=u(v,t.lastLineHeight),e._legendItemPos=[t.itemX,t.itemY],o?t.itemX+=E:(t.itemY+=y+v+g,t.lastLineHeight=v),t.offsetWidth=m||u((o?t.itemX-b-p:E)+h,t.offsetWidth)},getAllItems:function(){var t=[];return on(this.chart.series,function(n){var r=n.options;if(!Pt(r.showInLegend,Mt(r.linkedTo)?!1:e,!0))return;t=t.concat(n.legendItems||(r.legendType==="point"?n.data:n))}),t},adjustMargins:function(e,t){var n=this.chart,r=this.options,i=r.align.charAt(0)+r.verticalAlign.charAt(0)+r.layout.charAt(0);this.display&&!r.floating&&on([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(s,o){s.test(i)&&!Mt(e[o])&&(n[Z[o]]=u(n[Z[o]],n.legend[(o+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][o]*r[o%2?"x":"y"]+Pt(r.margin,12)+t[o]))})},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.group,i,s,o,u,a=e.box,f=e.options,l=e.padding,c=f.borderWidth,h=f.backgroundColor;e.itemX=e.initialItemX,e.itemY=e.initialItemY,e.offsetWidth=0,e.lastItemY=0,r||(e.group=r=n.g("legend").attr({zIndex:7}).add(),e.contentGroup=n.g().attr({zIndex:1}).add(r),e.scrollGroup=n.g().add(e.contentGroup)),e.renderTitle(),i=e.getAllItems(),Vt(i,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),f.reversed&&i.reverse(),e.allItems=i,e.display=s=!!i.length,e.lastLineHeight=0,on(i,function(t){e.renderItem(t)}),o=(f.width||e.offsetWidth)+l,u=e.lastItemY+e.lastLineHeight+e.titleHeight,u=e.handleOverflow(u),u+=l;if(c||h)a?o>0&&u>0&&(a[a.isNew?"attr":"animate"](a.crisp({width:o,height:u})),a.isNew=!1):(e.box=a=n.rect(0,0,o,u,f.borderRadius,c||0).attr({stroke:f.borderColor,"stroke-width":c||0,fill:h||V}).add(r).shadow(f.shadow),a.isNew=!0),a[s?"show":"hide"]();e.legendWidth=o,e.legendHeight=u,on(i,function(t){e.positionItem(t)}),s&&r.align(Et({width:o,height:u},f),!0,"spacingBox"),t.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,s=this.options,o=s.y,f=s.verticalAlign==="top",l=n.spacingBox.height+(f?-o:o)-this.padding,c=s.maxHeight,h,p=this.clipRect,d=s.navigation,v=Pt(d.animation,!0),m=d.arrowSize||12,g=this.nav,y=this.pages,b=this.padding,w,E=this.allItems,S=function(e){p.attr({height:e}),t.contentGroup.div&&(t.contentGroup.div.style.clip="rect("+b+"px,9999px,"+(b+e)+"px,0)")};return s.layout==="horizontal"&&(l/=2),c&&(l=a(l,c)),y.length=0,e>l?(this.clipHeight=h=u(l-20-this.titleHeight-b,0),this.currentPage=Pt(this.currentPage,1),this.fullHeight=e,on(E,function(e,t){var n=e._legendItemPos[1],r=i(e.legendItem.getBBox().height),s=y.length;if(!s||n-y[s-1]>h&&(w||n)!==y[s-1])y.push(w||n),s++;t===E.length-1&&n+r-y[s-1]>h&&y.push(n),n!==w&&(w=n)}),p||(p=t.clipRect=r.clipRect(0,b,9999,0),t.contentGroup.clip(p)),S(h),g||(this.nav=g=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,m,m).on("click",function(){t.scroll(-1,v)}).add(g),this.pager=r.text("",15,10).css(d.style).add(g),this.down=r.symbol("triangle-down",0,0,m,m).on("click",function(){t.scroll(1,v)}).add(g)),t.scroll(0),e=l):g&&(S(n.chartHeight),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(t,n){var r=this.pages,i=r.length,s=this.currentPage+t,o=this.clipHeight,u=this.options.navigation,a=u.activeColor,f=u.inactiveColor,l=this.pager,c=this.padding,h;s>i&&(s=i),s>0&&(n!==e&&Zt(n,this.chart),this.nav.attr({translateX:c,translateY:o+this.padding+7+this.titleHeight,visibility:W}),this.up.attr({fill:s===1?f:a}).css({cursor:s===1?"default":"pointer"}),l.attr({text:s+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,fill:s===i?f:a}).css({cursor:s===i?"default":"pointer"}),h=-r[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:h}),this.currentPage=s,this.positionCheckboxes(h))}};var Un=wt.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||e.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-n+1,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,n=t.marker,r,s,o=e.symbolWidth,u=this.chart.renderer,a=this.legendGroup,f=e.baseline-i(e.fontMetrics.b*.3),l;t.lineWidth&&(l={"stroke-width":t.lineWidth},t.dashStyle&&(l.dashstyle=t.dashStyle),this.legendLine=u.path([$,0,f,J,o,f]).attr(l).add(a)),n&&n.enabled!==!1&&(r=n.radius,this.legendSymbol=s=u.symbol(this.symbol,o/2-r,f-r,2*r,2*r).add(a),s.isMarker=!0)}};(/Trident\/7\.0/.test(d)||b)&&qt(Rn.prototype,"positionItem",function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r(),setTimeout(r)});var zn=wt.Chart=function(){this.init.apply(this,arguments)};zn.prototype={callbacks:[],init:function(e,t){var n,r=e.series;e.series=null,n=St(O,e),n.series=e.series=r,this.userOptions=e;var i=n.chart;this.margin=this.splashArray("margin",i),this.spacing=this.splashArray("spacing",i);var s=i.events;this.bounds={h:{},v:{}},this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var o=this,u;o.index=H.length,H.push(o),B++,i.reflow!==!1&&ln(o,"load",function(){o.initReflow()});if(s)for(u in s)ln(o,u,s[u]);o.xAxis=[],o.yAxis=[],o.animation=T?!1:Pt(i.animation,!0),o.pointCount=o.colorCounter=o.symbolCounter=0,o.firstRender()},initSeries:function(e){var t=this,n=t.options.chart,r=e.type||n.type||n.defaultSeriesType,i,s=bt[r];return s||Gt(17,!0),i=new s,i.init(this,e),i},isInsidePlot:function(e,t,n){var r=n?t:e,i=n?e:t;return r>=0&&r<=this.plotWidth&&i>=0&&i<=this.plotHeight},redraw:function(e){var t=this,n=t.axes,r=t.series,i=t.pointer,s=t.legend,o=t.isDirtyLegend,u,a,f=t.hasCartesianSeries,l=t.isDirtyBox,c=r.length,h=c,p,d=t.renderer,v=d.isHidden(),m=[];Zt(e,t),v&&t.cloneRenderTo(),t.layOutTitles();while(h--){p=r[h];if(p.options.stacking){u=!0;if(p.isDirty){a=!0;break}}}if(a){h=c;while(h--)p=r[h],p.options.stacking&&(p.isDirty=!0)}on(r,function(e){e.isDirty&&e.options.legendType==="point"&&(e.updateTotals&&e.updateTotals(),o=!0)}),o&&s.options.enabled&&(s.render(),t.isDirtyLegend=!1),u&&t.getStacks(),f&&(t.isResizing||(t.maxTicks=null,on(n,function(e){e.setScale()}))),t.getMargins(),f&&(on(n,function(e){e.isDirty&&(l=!0)}),on(n,function(e){var t=e.min+","+e.max;e.extKey!==t&&(e.extKey=t,m.push(function(){hn(e,"afterSetExtremes",Et(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(l||u)&&e.redraw()})),l&&t.drawChartBox(),on(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),i&&i.reset(!0),d.draw(),hn(t,"redraw"),v&&t.cloneRenderTo(!0),on(m,function(e){e.call()})},get:function(e){var t=this,n=t.axes,r=t.series,i,s,o;for(i=0;i<n.length;i++)if(n[i].options.id===e)return n[i];for(i=0;i<r.length;i++)if(r[i].options.id===e)return r[i];for(i=0;i<r.length;i++){o=r[i].points||[];for(s=0;s<o.length;s++)if(o[s].id===e)return o[s]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=Dt(t.xAxis||{}),r=t.yAxis=Dt(t.yAxis||{}),i,s;on(n,function(e,t){e.index=t,e.isX=!0}),on(r,function(e,t){e.index=t}),i=n.concat(r),on(i,function(t){s=new Dn(e,t)})},getSelectedPoints:function(){var e=[];return on(this.series,function(t){e=e.concat(un(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return un(this.series,function(e){return e.selected})},setTitle:function(e,t,n){var r=this,i=r.options,s,o;s=i.title=St(i.title,e),o=i.subtitle=St(i.subtitle,t),on([["title",e,s],["subtitle",t,o]],function(e){var t=e[0],n=r[t],i=e[1],s=e[2];n&&i&&(r[t]=n=n.destroy()),s&&s.text&&!n&&(r[t]=r.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,"class":z+t,zIndex:s.zIndex||4}).css(s.style).add())}),r.layOutTitles(n)},layOutTitles:function(e){var t=0,n=this.title,r=this.subtitle,i=this.options,s=i.title,u=i.subtitle,a,f=this.renderer,l=this.spacingBox.width-44;n&&(n.css({width:(s.width||l)+X}).align(Et({y:f.fontMetrics(s.style.fontSize,n).b-3},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign&&(t=n.getBBox().height)),r&&(r.css({width:(u.width||l)+X}).align(Et({y:t+(s.margin-13)+f.fontMetrics(u.style.fontSize,n).b},u),!1,"spacingBox"),!u.floating&&!u.verticalAlign&&(t=o(t+r.getBBox().height))),a=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&a&&(this.isDirtyBox=a,this.hasRendered&&Pt(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this,t=e.options.chart,n=t.width,r=t.height,i=e.renderToClone||e.renderTo;Mt(n)||(e.containerWidth=nn(i,"width")),Mt(r)||(e.containerHeight=nn(i,"height")),e.chartWidth=u(0,n||e.containerWidth||600),e.chartHeight=u(0,Pt(r,e.containerHeight>19?e.containerHeight:400))},cloneRenderTo:function(e){var n=this.renderToClone,r=this.container;e?n&&(this.renderTo.appendChild(r),Qt(n),delete this.renderToClone):(r&&r.parentNode===this.renderTo&&this.renderTo.removeChild(r),this.renderToClone=n=this.renderTo.cloneNode(0),Ht(n,{position:q,top:"-9999px",display:"block"}),n.style.setProperty&&n.style.setProperty("display","block","important"),t.body.appendChild(n),r&&n.appendChild(r))},getContainer:function(){var e=this,n,r=e.options,i=r.chart,s,o,u,a="data-highcharts-chart",f,l,c;e.renderTo=u=i.renderTo,c=z+L++,Tt(u)&&(e.renderTo=u=t.getElementById(u)),u||Gt(13,!0),f=xt(_t(u,a)),!isNaN(f)&&H[f]&&H[f].hasRendered&&H[f].destroy(),_t(u,a,e.index),u.innerHTML="",!i.skipClone&&!u.offsetWidth&&e.cloneRenderTo(),e.getChartSize(),s=e.chartWidth,o=e.chartHeight,e.container=n=Bt(I,{className:z+"container"+(i.className?" "+i.className:""),id:c},Et({position:R,overflow:U,width:s+X,height:o+X,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},i.style),e.renderToClone||u),e._cursor=n.style.cursor,l=wt[i.renderer]||N,e.renderer=new l(n,s,o,i.style,i.forExport,r.exporting&&r.exporting.allowHTML),T&&e.renderer.create(e,n,s,o),e.renderer.chartIndex=e.index},getMargins:function(e){var t=this,n=t.spacing,r=t.margin,i=t.titleOffset;t.resetMargins(),i&&!Mt(r[0])&&(t.plotTop=u(t.plotTop,i+t.options.title.margin+n[0])),t.legend.adjustMargins(r,n),t.extraBottomMargin&&(t.marginBottom+=t.extraBottomMargin),t.extraTopMargin&&(t.plotTop+=t.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],n=e.margin;e.hasCartesianSeries&&on(e.axes,function(e){e.visible&&e.getOffset()}),on(Z,function(r,i){Mt(n[i])||(e[r]+=t[i])}),e.setChartSize()},reflow:function(e){var r=this,i=r.options.chart,s=r.renderTo,o=i.width||nn(s,"width"),u=i.height||nn(s,"height"),a=e?e.target:n,f=function(){r.container&&(r.setSize(o,u,!1),r.hasUserSize=null)};if(!r.hasUserSize&&!r.isPrinting&&o&&u&&(a===n||a===t)){if(o!==r.containerWidth||u!==r.containerHeight)clearTimeout(r.reflowTimeout),e?r.reflowTimeout=setTimeout(f,100):f();r.containerWidth=o,r.containerHeight=u}},initReflow:function(){var e=this,t=function(t){e.reflow(t)};ln(n,"resize",t),ln(e,"destroy",function(){cn(n,"resize",t)})},setSize:function(e,t,n){var r=this,s,o,a,f=r.renderer,l;r.isResizing+=1,a=function(){r&&hn(r,"endResize",null,function(){r.isResizing-=1})},Zt(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,Mt(e)&&(r.chartWidth=s=u(0,i(e)),r.hasUserSize=!!s),Mt(t)&&(r.chartHeight=o=u(0,i(t))),l=f.globalAnimation,(l?dn:Ht)(r.container,{width:s+X,height:o+X},l),r.setChartSize(!0),f.setSize(s,o,n),r.maxTicks=null,on(r.axes,function(e){e.isDirty=!0,e.setScale()}),on(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,hn(r,"resize"),l=f.globalAnimation,l===!1?a():setTimeout(a,l&&l.duration||500)},setChartSize:function(e){var t=this,n=t.inverted,r=t.renderer,a=t.chartWidth,f=t.chartHeight,l=t.options.chart,c=t.spacing,h=t.clipOffset,p,d,v,m,g,y,b;t.plotLeft=v=i(t.plotLeft),t.plotTop=m=i(t.plotTop),t.plotWidth=g=u(0,i(a-v-t.marginRight)),t.plotHeight=y=u(0,i(f-m-t.marginBottom)),t.plotSizeX=n?y:g,t.plotSizeY=n?g:y,t.plotBorderWidth=l.plotBorderWidth||0,t.spacingBox=r.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:f-c[0]-c[2]},t.plotBox=r.plotBox={x:v,y:m,width:g,height:y},b=2*s(t.plotBorderWidth/2),p=o(u(b,h[3])/2),d=o(u(b,h[0])/2),t.clipBox={x:p,y:d,width:s(t.plotSizeX-u(b,h[1])/2-p),height:u(0,s(t.plotSizeY-u(b,h[2])/2-d))},e||on(t.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this;on(Z,function(t,n){e[t]=Pt(e.margin[n],e.spacing[n])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this,t=e.options.chart,n=e.renderer,r=e.chartWidth,i=e.chartHeight,s=e.chartBackground,o=e.plotBackground,u=e.plotBorder,a=e.plotBGImage,f=t.borderWidth||0,l=t.backgroundColor,c=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,d,v,m=e.plotLeft,g=e.plotTop,y=e.plotWidth,b=e.plotHeight,w=e.plotBox,E=e.clipRect,S=e.clipBox;d=f+(t.shadow?8:0);if(f||l)s?s.animate(s.crisp({width:r-d,height:i-d})):(v={fill:l||V},f&&(v.stroke=t.borderColor,v["stroke-width"]=f),e.chartBackground=n.rect(d/2,d/2,r-d,i-d,t.borderRadius,f).attr(v).addClass(z+"background").add().shadow(t.shadow));c&&(o?o.animate(w):e.plotBackground=n.rect(m,g,y,b,0).attr({fill:c}).add().shadow(t.plotShadow)),h&&(a?a.animate(w):e.plotBGImage=n.image(h,m,g,y,b).add()),E?E.animate({width:S.width,height:S.height}):e.clipRect=n.clipRect(S),p&&(u?u.animate(u.crisp({x:m,y:g,width:y,height:b,strokeWidth:-p})):e.plotBorder=n.rect(m,g,y,b,0,-p).attr({stroke:t.plotBorderColor,"stroke-width":p,fill:V,zIndex:1}).add()),e.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;on(["inverted","angular","polar"],function(o){n=bt[t.type||t.defaultSeriesType],s=e[o]||t[o]||n&&n.prototype[o],i=r&&r.length;while(!s&&i--)n=bt[r[i].type],n&&n.prototype[o]&&(s=!0);e[o]=s})},linkSeries:function(){var e=this,t=e.series;on(t,function(e){e.linkedSeries.length=0}),on(t,function(t){var n=t.options.linkedTo;Tt(n)&&(n===":previous"?n=e.series[t.index-1]:n=e.get(n),n&&(n.linkedSeries.push(t),t.linkedParent=n,t.visible=Pt(t.options.visible,n.options.visible,t.visible)))})},renderSeries:function(){on(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,t=e.options.labels;t.items&&on(t.items,function(n){var r=Et(t.style,n.style),i=xt(r.left)+e.plotLeft,s=xt(r.top)+e.plotTop+12;delete r.left,delete r.top,e.renderer.text(n.html,i,s).attr({zIndex:2}).css(r).add()})},render:function(){var e=this,t=e.axes,n=e.renderer,r=e.options,i,s,o,u;e.setTitle(),e.legend=new Rn(e,r.legend),e.getStacks&&e.getStacks(),e.getMargins(!0),e.setChartSize(),i=e.plotWidth,s=e.plotHeight=e.plotHeight-13,on(t,function(e){e.setScale()}),e.getAxisMargins(),o=i/e.plotWidth>1.1,u=s/e.plotHeight>1.1;if(o||u)e.maxTicks=null,on(t,function(e){(e.horiz&&o||!e.horiz&&u)&&e.setTickInterval(!0)}),e.getMargins();e.drawChartBox(),e.hasCartesianSeries&&on(t,function(e){e.visible&&e.render()}),e.seriesGroup||(e.seriesGroup=n.g("series-group").attr({zIndex:3}).add()),e.renderSeries(),e.renderLabels(),e.showCredits(r.credits),e.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var t=this,n=t.axes,r=t.series,i=t.container,s,o=i&&i.parentNode;hn(t,"destroy"),H[t.index]=e,B--,t.renderTo.removeAttribute("data-highcharts-chart"),cn(t),s=n.length;while(s--)n[s]=n[s].destroy();s=r.length;while(s--)r[s]=r[s].destroy();on(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}),i&&(i.innerHTML="",cn(i),o&&Qt(i));for(s in t)delete t[s]},isReadyToRender:function(){var e=this;return!S&&n==n.top&&t.readyState!=="complete"||T&&!n.canvg?(T?Mn.push(function(){e.firstRender()},e.options.global.canvasToolsURL):t.attachEvent("onreadystatechange",function(){t.detachEvent("onreadystatechange",e.firstRender),t.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var t=this,n=t.options,r=t.callback;if(!t.isReadyToRender())return;t.getContainer(),hn(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),on(n.series||[],function(e){t.initSeries(e)}),t.linkSeries(),hn(t,"beforeRender"),wt.Pointer&&(t.pointer=new Bn(t,n)),t.render(),t.renderer.draw(),r&&r.apply(t,[t]),on(t.callbacks,function(n){t.index!==e&&n.apply(t,[t])}),hn(t,"load"),t.cloneRenderTo(!0)},splashArray:function(e,t){var n=t[e],r=Nt(n)?n:[n,n,n,n];return[Pt(t[e+"Top"],r[0]),Pt(t[e+"Right"],r[1]),Pt(t[e+"Bottom"],r[2]),Pt(t[e+"Left"],r[3])]}};var Wn=wt.CenteredSeriesMixin={getCenter:function(){var e=this.options,t=this.chart,n=2*(e.slicedOffset||0),r,i=t.plotWidth-2*n,s=t.plotHeight-2*n,o=e.center,u=[Pt(o[0],"50%"),Pt(o[1],"50%"),e.size||"100%",e.innerSize||0],f=a(i,s),l,c;for(l=0;l<4;++l)c=u[l],r=l<2||l===2&&/%$/.test(c),u[l]=It(c,[i,s,f,u[2]][l])+(r?n:0);return u[3]>u[2]&&(u[3]=u[2]),u}},Xn=function(){};Xn.prototype={init:function(e,t,n){var r=this,i;return r.series=e,r.color=e.color,r.applyOptions(t,n),r.pointAttr={},e.options.colorByPoint&&(i=e.options.colors||e.chart.options.colors,r.color=r.color||i[e.colorCounter++],e.colorCounter===i.length&&(e.colorCounter=0)),e.chart.pointCount++,r},applyOptions:function(t,n){var r=this,i=r.series,s=i.options.pointValKey||i.pointValKey;return t=Xn.prototype.optionsToObject.call(this,t),Et(r,t),r.options=r.options?Et(r.options,t):t,s&&(r.y=r[s]),r.x===e&&i&&(r.x=n===e?i.autoIncrement():n),r},optionsToObject:function(e){var t={},n=this.series,r=n.options.keys,i=r||n.pointArrayMap||["y"],s=i.length,o,u=0,a=0;if(typeof e=="number"||e===null)t[i[0]]=e;else if(Ct(e)){!r&&e.length>s&&(o=typeof e[0],o==="string"?t.name=e[0]:o==="number"&&(t.x=e[0]),u++);while(a<s){if(!r||e[u]!==undefined)t[i[a]]=e[u];u++,a++}}else typeof e=="object"&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e=this,t=e.series,n=t.chart,r=n.hoverPoints,i;n.pointCount--,r&&(e.setState(),Ot(r,e),r.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut();if(e.graphic||e.dataLabel)cn(e),e.destroyElements();e.legendItem&&n.legend.destroyItem(e);for(i in e)e[i]=null},destroyElements:function(){var e=this,t=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n,r=6;while(r--)n=t[r],e[n]&&(e[n]=e[n].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=Pt(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";return on(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s)e=e.replace(t+"}",i+t+"}"+s);e=e.replace(t+"}",t+":,."+r+"f}")}),zt(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series,s=i.options;(s.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),e==="click"&&s.allowPointSelect&&(n=function(e){r.select&&r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),hn(this,e,t,n)},visible:!0};var Vn=wt.Series=function(){};Vn.prototype={isCartesian:!0,type:"line",pointClass:Xn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var n=this,r,i,s=e.series,o=function(e,t){return Pt(e.options.index,e._i)-Pt(t.options.index,t._i)};n.chart=e,n.options=t=n.setOptions(t),n.linkedSeries=[],n.bindAxes(),Et(n,{name:t.name,state:Q,pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),T&&(t.animation=!1),i=t.events;for(r in i)ln(n,r,i[r]);if(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)e.runTrackerClick=!0;n.getColor(),n.getSymbol(),on(n.parallelArrays,function(e){n[e+"Data"]=[]}),n.setData(t.data,!1),n.isCartesian&&(e.hasCartesianSeries=!0),s.push(n),n._i=s.length-1,Vt(s,o),this.yAxis&&Vt(this.yAxis.series,o),on(s,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var t=this,n=t.options,r=t.chart,i;on(t.axisTypes||[],function(s){on(r[s],function(r){i=r.options;if(n[s]===i.index||n[s]!==e&&n[s]===i.id||n[s]===e&&i.index===0)r.series.push(t),t[s]=r,r.isDirty=!0}),!t[s]&&t.optionalAxis!==s&&Gt(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,r=arguments,i=typeof t=="number"?function(r){var i=r==="y"&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))};on(n.parallelArrays,i)},autoIncrement:function(){var e=this.options,t=this.xIncrement,n,r,i=e.pointIntervalUnit;t=Pt(t,e.pointStart,0),this.pointInterval=r=Pt(this.pointInterval,e.pointInterval,1);if(i==="month"||i==="year")n=new nt(t),n=i==="month"?+n[gt](n[lt]()+r):+n[yt](n[ct]()+r),r=n-t;return this.xIncrement=t+r,t},getSegments:function(){var e=this,t=-1,n=[],r,i=e.points,s=i.length;if(s)if(e.options.connectNulls){r=s;while(r--)i[r].y===null&&i.splice(r,1);i.length&&(n=[i])}else on(i,function(e,r){e.y===null?(r>t+1&&n.push(i.slice(t+1,r)),t=r):r===s-1&&n.push(i.slice(t+1,r+1))});e.segments=n},setOptions:function(e){var t=this.chart,n=t.options,r=n.plotOptions,i=t.userOptions||{},s=i.plotOptions||{},o=r[this.type],u,a;return this.userOptions=e,u=St(o,r.series,e),this.tooltipOptions=St(O.tooltip,O.plotOptions[this.type].tooltip,i.tooltip,s.series&&s.series.tooltip,s[this.type]&&s[this.type].tooltip,e.tooltip),o.marker===null&&delete u.marker,this.zoneAxis=u.zoneAxis,a=this.zones=(u.zones||[]).slice(),(u.negativeColor||u.negativeFillColor)&&!u.zones&&a.push({value:u[this.zoneAxis+"Threshold"]||u.threshold||0,color:u.negativeColor,fillColor:u.negativeFillColor}),a.length&&Mt(a[a.length-1].value)&&a.push({color:this.color,fillColor:this.fillColor}),u},getCyclic:function(e,t,n){var r,i=this.userOptions,s="_"+e+"Index",o=e+"Counter";t||(Mt(i[s])?r=i[s]:(i[s]=r=this.chart[o]%n.length,this.chart[o]+=1),t=n[r]),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||mn[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:Un.drawLineMarker,setData:function(t,n,r,i){var s=this,o=s.points,u=o&&o.length||0,a,f=s.options,l=s.chart,c=null,h=s.xAxis,p=h&&!!h.categories,d,v=f.turboThreshold,m,g=this.xData,y=this.yData,b=s.pointArrayMap,w=b&&b.length;t=t||[],a=t.length,n=Pt(n,!0);if(i!==!1&&a&&u===a&&!s.cropped&&!s.hasGroupedData&&s.visible)on(t,function(e,t){o[t].update&&o[t].update(e,!1,null,!1)});else{s.xIncrement=null,s.pointRange=p?1:f.pointRange,s.colorCounter=0,on(this.parallelArrays,function(e){s[e+"Data"].length=0});if(v&&a>v){d=0;while(c===null&&d<a)c=t[d],d++;if(kt(c)){var E=Pt(f.pointStart,0),S=Pt(f.pointInterval,1);for(d=0;d<a;d++)g[d]=E,y[d]=t[d],E+=S;s.xIncrement=E}else if(Ct(c))if(w)for(d=0;d<a;d++)m=t[d],g[d]=m[0],y[d]=m.slice(1,w+1);else for(d=0;d<a;d++)m=t[d],g[d]=m[0],y[d]=m[1];else Gt(12)}else for(d=0;d<a;d++)t[d]!==e&&(m={series:s},s.pointClass.prototype.applyOptions.apply(m,[t[d]]),s.updateParallelArrays(m,d),p&&Mt(m.name)&&(h.names[m.x]=m.name));Tt(y[0])&&Gt(14,!0),s.data=[],s.options.data=t,d=u;while(d--)o[d]&&o[d].destroy&&o[d].destroy();h&&(h.minRange=h.userMinRange),s.isDirty=s.isDirtyData=l.isDirtyBox=!0,r=!1}f.legendType==="point"&&(this.processData(),this.generatePoints()),n&&l.redraw(r)},processData:function(t){var n=this,r=n.xData,i=n.yData,s=r.length,o,u=0,a,f,l,c=n.xAxis,h,p=n.options,d=p.cropThreshold,v=n.getExtremesFromAll||p.getExtremesFromAll,m=n.isCartesian,g,y,b;if(m&&!n.isDirty&&!c.isDirty&&!n.yAxis.isDirty&&!t)return!1;c&&(g=c.getExtremes(),y=g.min,b=g.max);if(m&&n.sorted&&!v&&(!d||s>d||n.forceCrop))if(r[s-1]<y||r[0]>b)r=[],i=[];else if(r[0]<y||r[s-1]>b)o=this.cropData(n.xData,n.yData,y,b),r=o.xData,i=o.yData,u=o.start,a=!0;for(h=r.length-1;h>=0;h--)f=r[h]-r[h-1],f>0&&(l===e||f<l)?l=f:f<0&&n.requireSorting&&Gt(15);n.cropped=a,n.cropStart=u,n.processedXData=r,n.processedYData=i,p.pointRange===null&&(n.pointRange=l||1),n.closestPointRange=l},cropData:function(e,t,n,r){var i=e.length,s=0,o=i,a=Pt(this.cropShoulder,1),f;for(f=0;f<i;f++)if(e[f]>=n){s=u(0,f-a);break}for(;f<i;f++)if(e[f]>r){o=f+a;break}return{xData:e.slice(s,o),yData:t.slice(s,o),start:s,end:o}},generatePoints:function(){var t=this,n=t.options,r=n.data,i=t.data,s,o=t.processedXData,u=t.processedYData,a=t.pointClass,f=o.length,l=t.cropStart||0,c,h=t.hasGroupedData,p,d=[],v;if(!i&&!h){var m=[];m.length=r.length,i=t.data=m}for(v=0;v<f;v++)c=l+v,h?d[v]=(new a).init(t,[o[v]].concat(Dt(u[v]))):(i[c]?p=i[c]:r[c]!==e&&(i[c]=p=(new a).init(t,r[c],o[v])),d[v]=p),d[v].index=c;if(i&&(f!==(s=i.length)||h))for(v=0;v<s;v++)v===l&&!h&&(v+=f),i[v]&&(i[v].destroyElements(),i[v].plotX=e);t.data=i,t.points=d},getExtremes:function(t){var n=this.xAxis,r=this.yAxis,i=this.processedXData,s,o=[],u=0,a=n.getExtremes(),f=a.min,l=a.max,c,h,p,d,v,m;t=t||this.stackedYData||this.processedYData,s=t.length;for(v=0;v<s;v++){p=i[v],d=t[v],c=d!==null&&d!==e&&(!r.isLog||d.length||d>0),h=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(i[v+1]||p)>=f&&(i[v-1]||p)<=l;if(c&&h){m=d.length;if(m)while(m--)d[m]!==null&&(o[u++]=d[m]);else o[u++]=d}}this.dataMin=$t(o),this.dataMax=Jt(o)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t=this,n=t.options,r=n.stacking,i=t.xAxis,s=i.categories,o=t.yAxis,l=t.points,c=l.length,h=!!t.modifyValue,p,d=n.pointPlacement,v=d==="between"||kt(d),m=n.threshold,g=n.startFromThreshold?m:0,y,b,w,E,S=Number.MAX_VALUE;for(p=0;p<c;p++){var x=l[p],T=x.x,N=x.y,C=x.low,k=r&&o.stacks[(t.negStacks&&N<(g?0:m)?"-":"")+t.stackKey],L,A;o.isLog&&N!==null&&N<=0&&(x.y=N=null,Gt(10)),x.plotX=y=a(u(-1e5,i.translate(T,0,0,0,1,d,this.type==="flags")),1e5),r&&t.visible&&k&&k[T]&&(E=t.getStackIndicator(E,T,t.index),L=k[T],A=L.points[E.key],C=A[0],N=A[1],C===g&&(C=Pt(m,o.min)),o.isLog&&C<=0&&(C=null),x.total=x.stackTotal=L.total,x.percentage=L.total&&x.y/L.total*100,x.stackY=N,L.setOffset(t.pointXOffset||0,t.barW||0)),x.yBottom=Mt(C)?o.translate(C,0,1,0,1):null,h&&(N=t.modifyValue(N,x)),x.plotY=b=typeof N=="number"&&N!==Infinity?a(u(-1e5,o.translate(N,0,1,0,1)),1e5):e,x.isInside=b!==e&&b>=0&&b<=o.len&&y>=0&&y<=i.len,x.clientX=v?i.translate(T,0,0,0,1):y,x.negative=x.y<(m||0),x.category=s&&s[x.x]!==e?s[x.x]:x.x,p&&(S=a(S,f(y-w))),w=y}t.closestPointRangePx=S,t.getSegments()},setClip:function(e){var t=this.chart,n=this.options,r=t.renderer,i=t.inverted,s=this.clipBox,o=s||t.clipBox,u=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,o.height,n.xAxis,n.yAxis].join(","),a=t[u],f=t[u+"m"];a||(e&&(o.width=0,t[u+"m"]=f=r.clipRect(-99,i?-t.plotLeft:-t.plotTop,99,i?t.chartWidth:t.chartHeight)),t[u]=a=r.clipRect(o)),e&&(a.count+=1),n.clip!==!1&&(this.group.clip(e||s?a:t.clipRect),this.markerGroup.clip(f),this.sharedClipKey=u),e||(a.count-=1,a.count<=0&&u&&t[u]&&(s||(t[u]=t[u].destroy()),t[u+"m"]&&(t[u+"m"]=t[u+"m"].destroy())))},animate:function(e){var t=this,n=t.chart,r,i=t.options.animation,s;i&&!Nt(i)&&(i=mn[t.type].animation),e?t.setClip(i):(s=this.sharedClipKey,r=n[s],r&&r.animate({width:n.plotSizeX},i),n[s+"m"]&&n[s+"m"].animate({width:n.plotSizeX+99},i),t.animate=null)},afterAnimate:function(){this.setClip(),hn(this,"afterAnimate")},drawPoints:function(){var t=this,n,r=t.points,i=t.chart,o,u,a,f,l,c,h,p,d=t.options,v=d.marker,m=t.pointAttr[""],g,y,b,w,E=t.markerGroup,S=t.xAxis,x=Pt(v.enabled,S.isRadial,t.closestPointRangePx>2*v.radius);if(v.enabled!==!1||t._hasPointMarkers){a=r.length;while(a--)f=r[a],o=s(f.plotX),u=f.plotY,p=f.graphic,g=f.marker||{},y=!!f.marker,b=x&&g.enabled===e||g.enabled,w=f.isInside,b&&u!==e&&!isNaN(u)&&f.y!==null?(n=f.pointAttr[f.selected?Y:Q]||m,l=n.r,c=Pt(g.symbol,t.symbol),h=c.indexOf("url")===0,p?p[w?"show":"hide"](!0).animate(Et({x:o-l,y:u-l},p.symbolName?{width:2*l,height:2*l}:{})):w&&(l>0||h)&&(f.graphic=p=i.renderer.symbol(c,o-l,u-l,2*l,2*l,y?g:v).attr(n).add(E))):p&&(f.graphic=p.destroy())}},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={};e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=Pt(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var e=this,t=e.options,n=mn[e.type].marker?t.marker:t,r=n.states,i=r[G],s,o=e.color,u=e.options.negativeColor,a={stroke:o,fill:o},f=e.points||[],l,c,h,p,d=[],v,m=e.pointAttrToOptions,g=e.hasPointSpecificOptions,y=n.lineColor,b=n.fillColor,w=t.turboThreshold,E=e.zones,S=e.zoneAxis||"y",x,T;t.marker?(i.radius=i.radius||n.radius+i.radiusPlus,i.lineWidth=i.lineWidth||n.lineWidth+i.lineWidthPlus):(i.color=i.color||Tn(i.color||o).brighten(i.brightness).get(),i.negativeColor=i.negativeColor||Tn(i.negativeColor||u).brighten(i.brightness).get()),d[Q]=e.convertAttribs(n,a),on([G,Y],function(t){d[t]=e.convertAttribs(r[t],d[Q])}),e.pointAttr=d,l=f.length;if(!w||l<w||g)while(l--){p=f[l],n=p.options&&p.options.marker||p.options,n&&n.enabled===!1&&(n.radius=0);if(E.length){c=0,h=E[c];while(p[S]>=h.value)h=E[++c];p.color=p.fillColor=Pt(h.color,e.color)}g=t.colorByPoint||p.color;if(p.options)for(T in m)Mt(n[m[T]])&&(g=!0);if(g){n=n||{},v=[],r=n.states||{},s=r[G]=r[G]||{};if(!t.marker||p.negative&&!s.fillColor&&!i.fillColor)s[e.pointAttrToOptions.fill]=s.color||!p.options.color&&i[p.negative&&u?"negativeColor":"color"]||Tn(p.color).brighten(s.brightness||i.brightness).get();x={color:p.color},b||(x.fillColor=p.color),y||(x.lineColor=p.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,v[Q]=e.convertAttribs(Et(x,n),d[Q]),v[G]=e.convertAttribs(r[G],d[G],v[Q]),v[Y]=e.convertAttribs(r[Y],d[Y],v[Q])}else v=d;p.pointAttr=v}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(d),r,i,s=e.data||[],o,u,a;hn(e,"destroy"),cn(e),on(e.axisTypes||[],function(t){a=e[t],a&&(Ot(a.series,e),a.isDirty=a.forceRedraw=!0)}),e.legendItem&&e.chart.legend.destroyItem(e),i=s.length;while(i--)o=s[i],o&&o.destroy&&o.destroy();e.points=null,clearTimeout(e.animationTimeout);for(u in e)e[u]instanceof Nn&&!e[u].survive&&(r=n&&u==="group"?"hide":"destroy",e[u][r]());t.hoverSeries===e&&(t.hoverSeries=null),Ot(t.series,e);for(u in e)delete e[u]},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;return on(e,function(i,s){var o=i.plotX,u=i.plotY,a;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,i,s)):(n.push(s?J:$),r&&s&&(a=e[s-1],r==="right"?n.push(a.plotX,u,J):r==="center"?n.push((a.plotX+o)/2,a.plotY,J,(a.plotX+o)/2,u,J):n.push(o,a.plotY,J)),n.push(i.plotX,i.plotY))}),n},getGraphPath:function(){var e=this,t=[],n,r=[];return on(e.segments,function(i){n=e.getSegmentPath(i),i.length>1?t=t.concat(n):r.push(i[0])}),e.singlePoints=r,e.graphPath=t,t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color,t.dashStyle]],r=t.lineWidth,i=t.linecap!=="square",s=this.getGraphPath(),o=this.fillGraph&&this.color||V,u=this.zones;on(u,function(r,i){n.push(["zoneGraph"+i,r.color||e.color,r.dashStyle||t.dashStyle])}),on(n,function(n,u){var a=n[0],f=e[a],l;f?f.animate({d:s}):(r||o)&&s.length&&(l={stroke:n[1],"stroke-width":r,fill:o,zIndex:1},n[2]?l.dashstyle=n[2]:i&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),e[a]=e.chart.renderer.path(s).attr(l).add(e.group).shadow(u<2&&t.shadow))})},applyZones:function(){var t=this,n=this.chart,r=n.renderer,s=this.zones,o,f,l=this.clips||[],c,h=this.graph,p=this.area,d=u(n.chartWidth,n.chartHeight),v=this[(this.zoneAxis||"y")+"Axis"],m,g=v.reversed,y=n.inverted,b=v.horiz,w,E,S,x=!1;s.length&&(h||p)&&v.min!==e&&(h&&h.hide(),p&&p.hide(),m=v.getExtremes(),on(s,function(e,s){o=g?b?n.plotWidth:0:b?0:v.toPixels(m.min),o=a(u(Pt(f,o),0),d),f=a(u(i(v.toPixels(Pt(e.value,m.max),!0)),0),d),x&&(o=f=v.toPixels(m.max)),w=Math.abs(o-f),E=a(o,f),S=u(o,f),v.isXAxis?(c={x:y?S:E,y:0,width:w,height:d},b||(c.x=n.plotHeight-c.x)):(c={x:0,y:y?S:E,width:d,height:w},b&&(c.y=n.plotWidth-c.y)),n.inverted&&r.isVML&&(v.isXAxis?c={x:0,y:g?E:S,height:c.width,width:n.chartWidth}:c={x:c.y-n.plotLeft-n.spacingBox.x,y:0,width:c.height,height:n.chartHeight}),l[s]?l[s].animate(c):(l[s]=r.clipRect(c),h&&t["zoneGraph"+s].clip(l[s]),p&&t["zoneArea"+s].clip(l[s])),x=e.value>m.max}),this.clips=l)},invertGroups:function(){function n(){var t={width:e.yAxis.len,height:e.xAxis.len};on(["group","markerGroup"],function(n){e[n]&&e[n].attr(t).invert()})}var e=this,t=e.chart;if(!e.xAxis)return;ln(t,"resize",n),ln(e,"destroy",function(){cn(t,"resize",n)}),n(),e.invertGroups=n},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s;return o&&(this[e]=s=this.chart.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i),s.addClass("highcharts-series-"+this.index)),s[o?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e=this,t=e.chart,n,r=e.options,i=r.animation,s=i&&!!e.animate&&t.renderer.isSVG&&Pt(i.duration,500)||0,o=e.visible?W:U,u=r.zIndex,a=e.hasRendered,f=t.seriesGroup;n=e.plotGroup("group","series",o,u,f),e.markerGroup=e.plotGroup("markerGroup","markers",o,u,f),s&&e.animate(!0),e.getAttribs(),n.inverted=e.isCartesian?t.inverted:!1,e.drawGraph&&(e.drawGraph(),e.applyZones()),on(e.points,function(e){e.redraw&&e.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),t.inverted&&e.invertGroups(),r.clip!==!1&&!e.sharedClipKey&&!a&&n.clip(t.clipRect),s&&e.animate(),a||(s?e.animationTimeout=setTimeout(function(){e.afterAnimate()},s):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var e=this,t=e.chart,n=e.isDirtyData,r=e.isDirty,i=e.group,s=e.xAxis,o=e.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:Pt(s&&s.left,t.plotLeft),translateY:Pt(o&&o.top,t.plotTop)})),e.translate(),e.render(),n&&hn(e,"updatedData"),(r||n)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var n=this,r=n.xAxis,i=n.yAxis,s=n.chart.inverted;return this.searchKDTree({clientX:s?r.len-e.chartY+r.pos:e.chartX-r.pos,plotY:s?i.len-e.chartX+i.pos:e.chartY-i.pos},t)},buildKDTree:function(){function n(t,r,i){var s,o,u=t&&t.length;if(u)return s=e.kdAxisArray[r%i],t.sort(function(e,t){return e[s]-t[s]}),o=Math.floor(u/2),{point:t[o],left:n(t.slice(0,o),r+1,i),right:n(t.slice(o+1),r+1,i)}}function r(){var r=un(e.points||[],function(e){return e.y!==null});e.kdTree=n(r,t,t)}var e=this,t=e.kdDimensions;delete e.kdTree,e.options.kdSync?r():setTimeout(r)},searchKDTree:function(e,t){function o(e,t){var n=Mt(e[r])&&Mt(t[r])?Math.pow(e[r]-t[r],2):null,s=Mt(e[i])&&Mt(t[i])?Math.pow(e[i]-t[i],2):null,o=(n||0)+(s||0);t.dist=Mt(o)?Math.sqrt(o):Number.MAX_VALUE,t.distX=Mt(n)?Math.sqrt(n):Number.MAX_VALUE}function u(e,t,r,i){var a=t.point,f=n.kdAxisArray[r%i],l,c,h,p=a,d,v;return o(e,a),l=e[f]-a[f],c=l<0?"left":"right",h=l<0?"right":"left",t[c]&&(d=u(e,t[c],r+1,i),p=d[s]<p[s]?d:a),t[h]&&Math.sqrt(l*l)<p[s]&&(v=u(e,t[h],r+1,i),p=v[s]<p[s]?v:p),p}var n=this,r=this.kdAxisArray[0],i=this.kdAxisArray[1],s=t?"distX":"dist";this.kdTree||this.buildKDTree();if(this.kdTree)return u(e,this.kdTree,this.kdDimensions,this.kdDimensions)}},$n.prototype={destroy:function(){Kt(this,this.axis)},render:function(e){var t=this.options,n=t.format,r=n?zt(n,this):t.formatter.call(this);this.label?this.label.attr({text:r,visibility:U}):this.label=this.axis.chart.renderer.text(r,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:U}).add(e)},setOffset:function(e,t){var n=this,r=n.axis,i=r.chart,s=i.inverted,o=r.reversed,u=this.isNegative&&!o||!this.isNegative&&o,a=r.translate(r.usePercentage?100:this.total,0,0,0,1),l=r.translate(0),c=f(a-l),h=i.xAxis[0].translate(this.x)+e,p=i.plotHeight,d={x:s?u?a:a-c:h,y:s?p-h-t:u?p-a-c:p-a,width:s?c:t,height:s?t:c},v=this.label,m;v&&(v.align(this.alignOptions,null,d),m=v.alignAttr,v[this.options.crop===!1||i.isInsidePlot(m.x,m.y)?"show":"hide"](!0))}},zn.prototype.getStacks=function(){var e=this;on(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),on(e.series,function(t){t.options.stacking&&(t.visible===!0||e.options.chart.ignoreHiddenSeries===!1)&&(t.stackKey=t.type+Pt(t.options.stack,""))})},Dn.prototype.buildStacks=function(){var e=this.series,t=Pt(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){this.usePercentage=!1;while(n--)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}},Dn.prototype.renderStackTotals=function(){var e=this,t=e.chart,n=t.renderer,r=e.stacks,i,s,o,u=e.stackTotalGroup;u||(e.stackTotalGroup=u=n.g("stack-labels").attr({visibility:W,zIndex:6}).add()),u.translate(t.plotLeft,t.plotTop);for(i in r){s=r[i];for(o in s)s[o].render(u)}},Dn.prototype.resetStacks=function(){var e=this.stacks,t,n;if(!this.isXAxis)for(t in e)for(n in e[t])e[t][n].touched<this.stacksTouched?(e[t][n].destroy(),delete e[t][n]):(e[t][n].total=null,e[t][n].cum=0)},Dn.prototype.cleanStacks=function(){var e,t,n;if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(t in e)for(n in e[t])e[t][n].cum=e[t][n].total}},Vn.prototype.setStackedPoints=function(){if(!this.options.stacking||this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)return;var e=this,t=e.processedXData,n=e.processedYData,r=[],i=n.length,s=e.options,o=s.threshold,a=s.startFromThreshold?o:0,l=s.stack,c=s.stacking,h=e.stackKey,p="-"+h,d=e.negStacks,v=e.yAxis,m=v.stacks,g=v.oldStacks,y,b,w,E,S,x,T,N,C;v.stacksTouched+=1;for(T=0;T<i;T++)N=t[T],C=n[T],y=e.getStackIndicator(y,N,e.index),x=y.key,b=d&&C<(a?0:o),S=b?p:h,m[S]||(m[S]={}),m[S][N]||(g[S]&&g[S][N]?(m[S][N]=g[S][N],m[S][N].total=null):m[S][N]=new $n(v,v.options.stackLabels,b,N,l)),w=m[S][N],w.points[x]=[Pt(w.cum,a)],w.touched=v.stacksTouched,c==="percent"?(E=b?h:p,d&&m[E]&&m[E][N]?(E=m[E][N],w.total=E.total=u(E.total,w.total)+f(C)||0):w.total=Yt(w.total+(f(C)||0))):w.total=Yt(w.total+(C||0)),w.cum=Pt(w.cum,a)+(C||0),w.points[x].push(w.cum),r[T]=w.cum;c==="percent"&&(v.usePercentage=!0),this.stackedYData=r,v.oldStacks={}},Vn.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,n=e.yAxis.stacks,r=e.processedXData,i;on([t,"-"+t],function(t){var s=r.length,o,u,a,f;while(s--)o=r[s],i=e.getStackIndicator(i,o,e.index),u=n[t]&&n[t][o],a=u&&u.points[i.key],a&&(f=u.total?100/u.total:0,a[0]=Yt(a[0]*f),a[1]=Yt(a[1]*f),e.stackedYData[s]=a[1])})},Vn.prototype.getStackIndicator=function(e,t,n){return!Mt(e)||e.x!==t?e={x:t,index:0}:e.index++,e.key=[n,t,e.index].join(","),e},Et(zn.prototype,{addSeries:function(e,t,n){var r,i=this;return e&&(t=Pt(t,!0),hn(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,i.linkSeries(),t&&i.redraw(n)})),r},addAxis:function(e,t,n,r){var i=t?"xAxis":"yAxis",s=this.options,o;o=new Dn(this,St(e,{index:this[i].length,isX:t})),s[i]=Dt(s[i]||{}),s[i].push(e),Pt(n,!0)&&this.redraw(r)},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv,i=n.loading,s=function(){r&&Ht(r,{left:t.plotLeft+X,top:t.plotTop+X,width:t.plotWidth+X,height:t.plotHeight+X})};r||(t.loadingDiv=r=Bt(I,{className:z+"loading"},Et(i.style,{zIndex:10,display:V}),t.container),t.loadingSpan=Bt("span",null,i.labelStyle,r),ln(t,"redraw",s)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(Ht(r,{opacity:0,display:""}),dn(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),t.loadingShown=!0),s()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&dn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){Ht(t,{display:V})}}),this.loadingShown=!1}}),Et(Xn.prototype,{update:function(e,t,n,r){function c(){i.applyOptions(e),i.y===null&&o&&(i.graphic=o.destroy()),Nt(e)&&!Ct(e)&&(i.redraw=function(){o&&o.element&&e&&e.marker&&e.marker.symbol&&(i.graphic=o.destroy()),e&&e.dataLabels&&i.dataLabel&&(i.dataLabel=i.dataLabel.destroy()),i.redraw=null}),u=i.index,s.updateParallelArrays(i,u),l&&i.name&&(l[i.x]=i.name),f.data[u]=i.options,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(a.isDirtyBox=!0),f.legendType==="point"&&(a.isDirtyLegend=!0),t&&a.redraw(n)}var i=this,s=i.series,o=i.graphic,u,a=s.chart,f=s.options,l=s.xAxis&&s.xAxis.names;t=Pt(t,!0),r===!1?c():i.firePointEvent("update",{options:e},c)},remove:function(e,t){this.series.removePoint(sn(this,this.series.data),e,t)}}),Et(Vn.prototype,{addPoint:function(e,t,n,r){var i=this,s=i.options,o=i.data,u=i.graph,a=i.area,f=i.chart,l=i.xAxis&&i.xAxis.names,c=u&&u.shift||0,h=["graph","area"],p=s.data,d,v,m=i.xData,g,y;Zt(r,f);if(n){g=i.zones.length;while(g--)h.push("zoneGraph"+g,"zoneArea"+g);on(h,function(e){i[e]&&(i[e].shift=c+(s.step?2:1))})}a&&(a.isArea=!0),t=Pt(t,!0),d={series:i},i.pointClass.prototype.applyOptions.apply(d,[e]),y=d.x,g=m.length;if(i.requireSorting&&y<m[g-1]){v=!0;while(g&&m[g-1]>y)g--}i.updateParallelArrays(d,"splice",g,0,0),i.updateParallelArrays(d,g),l&&d.name&&(l[y]=d.name),p.splice(g,0,e),v&&(i.data.splice(g,0,null),i.processData()),s.legendType==="point"&&i.generatePoints(),n&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),i.updateParallelArrays(d,"shift"),p.shift())),i.isDirty=!0,i.isDirtyData=!0,t&&(i.getAttribs(),f.redraw())},removePoint:function(e,t,n){var r=this,i=r.data,s=i[e],o=r.points,u=r.chart,a=function(){i.length===o.length&&o.splice(e,1),i.splice(e,1),r.options.data.splice(e,1),r.updateParallelArrays(s||{series:r},"splice",e,1),s&&s.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&u.redraw()};Zt(n,u),t=Pt(t,!0),s?s.firePointEvent("remove",null,a):a()},remove:function(e,t){var n=this,r=n.chart;e=Pt(e,!0),n.isRemoving||(n.isRemoving=!0,hn(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),e&&r.redraw(t)})),n.isRemoving=!1},update:function(t,n){var r=this,i=this.chart,s=this.userOptions,o=this.type,u=bt[o].prototype,a=["group","markerGroup","dataLabelsGroup"],f;if(t.type&&t.type!==o||t.zIndex!==undefined)a.length=0;on(a,function(e){a[e]=r[e],delete r[e]}),t=St(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(f in u)this[f]=e;Et(this,bt[t.type||o].prototype),on(a,function(e){r[e]=a[e]}),this.init(i,t),i.linkSeries(),Pt(n,!0)&&i.redraw(!1)}}),Et(Dn.prototype,{update:function(t,n){var r=this.chart;t=r.options[this.coll][this.options.index]=St(this.userOptions,t),this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=e,this.init(r,Et(t,{events:e})),r.isDirtyBox=!0,Pt(n,!0)&&r.redraw()},remove:function(e){var t=this.chart,n=this.coll,r=this.series,i=r.length;while(i--)r[i]&&r[i].remove(!1);Ot(t.axes,this),Ot(t[n],this),t.options[n].splice(this.options.index,1),on(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,Pt(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var Jn=jt(Vn);bt.line=Jn,mn.area=St(gn,{softThreshold:!1,threshold:0});var Kn=jt(Vn,{type:"area",getSegments:function(){var e=this,t=[],n=[],r=[],i=this.xAxis,s=this.yAxis,o=s.stacks[this.stackKey],u={},a,f,l=this.points,c=this.options.connectNulls,h,p,d;if(this.options.stacking&&!this.cropped){for(p=0;p<l.length;p++)u[l[p].x]=l[p];for(d in o)o[d].total!==null&&r.push(+d);r.sort(function(e,t){return e-t}),on(r,function(t){var r=null,l;if(c&&(!u[t]||u[t].y===null))return;if(u[t])n.push(u[t]);else{for(p=e.index;p<=s.series.length;p++){h=e.getStackIndicator(null,t,p),l=o[t].points[h.key];if(l){r=l[1];break}}a=i.translate(t),f=s.getThreshold(r),n.push({y:null,plotX:a,clientX:a,plotY:f,yBottom:f,onMouseOver:P})}}),n.length&&t.push(n)}else Vn.prototype.getSegments.call(this),t=this.segments;this.segments=t},getSegmentPath:function(e){var t=Vn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options,s=t.length,o=this.yAxis.getThreshold(i.threshold),u;s===3&&n.push(J,t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;r>=0;r--)u=Pt(e[r].yBottom,o),r<e.length-1&&i.step&&n.push(e[r+1].plotX,u),n.push(e[r].plotX,u);else this.closeSegment(n,e,o);return this.areaPath=this.areaPath.concat(n),t},closeSegment:function(e,t,n){e.push(J,t[t.length-1].plotX,n,J,t[0].plotX,n)},drawGraph:function(){this.areaPath=[],Vn.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=this.zones,i=[["area",this.color,n.fillColor]];on(r,function(t,r){i.push(["zoneArea"+r,t.color||e.color,t.fillColor||n.fillColor])}),on(i,function(r){var i=r[0],s=e[i];s?s.animate({d:t}):e[i]=e.chart.renderer.path(t).attr({fill:Pt(r[2],Tn(r[1]).setOpacity(Pt(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:Un.drawRectangle});bt.area=Kn,mn.spline=St(gn);var Qn=jt(Vn,{type:"spline",getPointSpline:function(e,t,n){var r=1.5,i=r+1,s=t.plotX,o=t.plotY,f=e[n-1],l=e[n+1],c,h,p,d,v;if(f&&l){var m=f.plotX,g=f.plotY,y=l.plotX,b=l.plotY,w;c=(r*s+m)/i,h=(r*o+g)/i,p=(r*s+y)/i,d=(r*o+b)/i,w=(d-h)*(p-s)/(p-c)+o-d,h+=w,d+=w,h>g&&h>o?(h=u(g,o),d=2*o-h):h<g&&h<o&&(h=a(g,o),d=2*o-h),d>b&&d>o?(d=u(b,o),h=2*o-d):d<b&&d<o&&(d=a(b,o),h=2*o-d),t.rightContX=p,t.rightContY=d}return n?(v=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,c||s,h||o,s,o],f.rightContX=f.rightContY=null):v=[$,s,o],v}});bt.spline=Qn,mn.areaspline=St(mn.area);var Gn=Kn.prototype,Yn=jt(Qn,{type:"areaspline",closedStacks:!0,getSegmentPath:Gn.getSegmentPath,closeSegment:Gn.closeSegment,drawGraph:Gn.drawGraph,drawLegendSymbol:Un.drawRectangle});bt.areaspline=Yn,mn.column=St(gn,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0});var Zn=jt(Vn,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Vn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&on(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var t=this,n=t.options,r=t.xAxis,i=t.yAxis,s=r.reversed,o,u={},l,c=0;n.grouping===!1?c=1:on(t.chart.series,function(n){var r=n.options,s=n.yAxis;n.type===t.type&&n.visible&&i.len===s.len&&i.pos===s.pos&&(r.stacking?(o=n.stackKey,u[o]===e&&(u[o]=c++),l=u[o]):r.grouping!==!1&&(l=c++),n.columnIndex=l)});var h=a(f(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),p=h*n.groupPadding,d=h-2*p,v=d/c,m=a(n.maxPointWidth||r.len,Pt(n.pointWidth,v*(1-2*n.pointPadding))),g=(v-m)/2,y=(s?c-(t.columnIndex||0):t.columnIndex)||0,b=g+(p+y*v-h/2)*(s?-1:1);return t.columnMetrics={width:m,offset:b}},crispCol:function(e,t,n,r){var i=this.chart,s=this.borderWidth,o=-(s%2?.5:0),u=s%2?.5:1,a,l,c;return i.inverted&&i.renderer.isVML&&(u+=1),a=Math.round(e+n)+o,e=Math.round(e)+o,n=a-e,c=f(t)<=.5,l=Math.round(t+r)+u,t=Math.round(t)+u,r=l-t,c&&(t-=1,r+=1),{x:e,y:t,width:n,height:r}},translate:function(){var e=this,t=e.chart,n=e.options,r=e.borderWidth=Pt(n.borderWidth,e.closestPointRange*e.xAxis.transA<2?0:1),i=e.yAxis,s=n.threshold,l=e.translatedThreshold=i.getThreshold(s),c=Pt(n.minPointLength,5),h=e.getColumnMetrics(),p=h.width,d=e.barW=u(p,1+2*r),v=e.pointXOffset=h.offset;t.inverted&&(l-=.5),n.pointPadding&&(d=o(d)),Vn.prototype.translate.apply(e),on(e.points,function(n){var r=a(Pt(n.yBottom,l),9e4),s=999+f(r),o=a(u(-s,n.plotY),i.len+s),h=n.plotX+v,m=d,g=a(o,r),y,b=u(o,r)-g;f(b)<c&&c&&(b=c,y=!i.reversed&&!n.negative||i.reversed&&n.negative,g=f(g-l)>c?r-c:l-(y?c:0)),n.barX=h,n.pointWidth=p,n.tooltipPos=t.inverted?[i.len+i.pos-t.plotLeft-o,e.xAxis.len-h-m/2,b]:[h+m/2,o+i.pos-t.plotTop,b],n.shapeType="rect",n.shapeArgs=e.crispCol(h,g,m,b)})},getSymbol:P,drawLegendSymbol:Un.drawRectangle,drawGraph:P,drawPoints:function(){var t=this,n=this.chart,r=t.options,i=n.renderer,s=r.animationLimit||250,o,u;on(t.points,function(a){var f=a.plotY,l=a.graphic,c;f!==e&&!isNaN(f)&&a.y!==null?(o=a.shapeArgs,c=Mt(t.borderWidth)?{"stroke-width":t.borderWidth}:{},u=a.pointAttr[a.selected?Y:Q]||t.pointAttr[Q],l?(vn(l),l.attr(c)[n.pointCount<s?"animate":"attr"](St(o))):a.graphic=l=i[a.shapeType](o).attr(c).attr(u).add(a.group||t.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius)):l&&(a.graphic=l.destroy())})},animate:function(e){var t=this,n=this.yAxis,r=t.options,i=this.chart.inverted,s={},o;S&&(e?(s.scaleY=.001,o=a(n.pos+n.len,u(n.pos,n.toPixels(r.threshold))),i?s.translateX=o-n.len:s.translateY=o,t.group.attr(s)):(s.scaleY=1,s[i?"translateX":"translateY"]=n.pos,t.group.animate(s,t.options.animation),t.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&on(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),Vn.prototype.remove.apply(e,arguments)}});bt.column=Zn,mn.bar=St(mn.column);var er=jt(Zn,{type:"bar",inverted:!0});bt.bar=er,mn.scatter=St(gn,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var tr=jt(Vn,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&Vn.prototype.drawGraph.call(this)}});bt.scatter=tr,mn.pie=St(gn,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.y===null?undefined:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var nr=jt(Xn,{init:function(){Xn.prototype.init.apply(this,arguments);var e=this,t;return e.name=Pt(e.name,"Slice"),t=function(t){e.slice(t.type==="select")},ln(e,"select",t),ln(e,"unselect",t),e},setVisible:function(t,n){var r=this,i=r.series,s=i.chart,o=i.options.ignoreHiddenPoint;n=Pt(n,o),t!==r.visible&&(r.visible=r.options.visible=t=t===e?!r.visible:t,i.options.data[sn(r,i.data)]=r.options,on(["graphic","dataLabel","connector","shadowGroup"],function(e){r[e]&&r[e][t?"show":"hide"](!0)}),r.legendItem&&s.legend.colorizeItem(r,t),!t&&r.state==="hover"&&r.setState(""),o&&(i.isDirty=!0),n&&s.redraw())},slice:function(e,t,n){var r=this,i=r.series,s=i.chart,o;Zt(n,s),t=Pt(t,!0),r.sliced=r.options.sliced=e=Mt(e)?e:!r.sliced,i.options.data[sn(r,i.data)]=r.options,o=e?r.slicedTranslation:{translateX:0,translateY:0},r.graphic.animate(o),r.shadowGroup&&r.shadowGroup.animate(o)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),rr={type:"pie",isCartesian:!1,pointClass:nr,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(on(n,function(e){var n=e.graphic,i=e.shapeArgs;n&&(n.attr({r:e.startR||t.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},t.options.animation))}),t.animate=null)},updateTotals:function(){var e,t=0,n=this.points,r=n.length,i,s=this.options.ignoreHiddenPoint;for(e=0;e<r;e++)i=n[e],t+=s&&!i.visible?0:i.y;this.total=t;for(e=0;e<r;e++)i=n[e],i.percentage=t>0&&(i.visible||!s)?i.y/t*100:0,i.total=t},generatePoints:function(){Vn.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t=this,n=0,s=1e3,o=t.options,u=o.slicedOffset,f=u+o.borderWidth,p,d,v,m=o.startAngle||0,g=t.startAngleRad=h/180*(m-90),y=t.endAngleRad=h/180*(Pt(o.endAngle,m+360)-90),b=y-g,w=t.points,E,S,x=o.dataLabels.distance,T=o.ignoreHiddenPoint,N,C=w.length,k;e||(t.center=e=t.getCenter()),t.getX=function(t,n){return v=r.asin(a((t-e[1])/(e[2]/2+x),1)),e[0]+(n?-1:1)*l(v)*(e[2]/2+x)};for(N=0;N<C;N++){k=w[N],p=g+n*b;if(!T||k.visible)n+=k.percentage/100;d=g+n*b,k.shapeType="arc",k.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:i(p*s)/s,end:i(d*s)/s},v=(d+p)/2,v>1.5*h?v-=2*h:v<-h/2&&(v+=2*h),k.slicedTranslation={translateX:i(l(v)*u),translateY:i(c(v)*u)},E=l(v)*e[2]/2,S=c(v)*e[2]/2,k.tooltipPos=[e[0]+E*.7,e[1]+S*.7],k.half=v<-h/2||v>h/2?1:0,k.angle=v,f=a(f,x/2),k.labelPos=[e[0]+E+l(v)*x,e[1]+S+c(v)*x,e[0]+E+l(v)*f,e[1]+S+c(v)*f,e[0]+E,e[1]+S,x<0?"center":k.half?"right":"left",v]}},drawGraph:null,drawPoints:function(){var e=this,t=e.chart,n=t.renderer,r,i,s=e.options.shadow,o,u,a;s&&!e.shadowGroup&&(e.shadowGroup=n.g("shadow").add(e.group)),on(e.points,function(t){t.y!==null&&(i=t.graphic,u=t.shapeArgs,o=t.shadowGroup,s&&!o&&(o=t.shadowGroup=n.g("shadow").add(e.shadowGroup)),r=t.sliced?t.slicedTranslation:{translateX:0,translateY:0},o&&o.attr(r),i?i.setRadialReference(e.center).animate(Et(u,r)):(a={"stroke-linejoin":"round"},t.visible||(a.visibility="hidden"),t.graphic=i=n[t.shapeType](u).setRadialReference(e.center).attr(t.pointAttr[t.selected?Y:Q]).attr(a).attr(r).add(e.group).shadow(s,o)))})},searchPoint:P,sortByAngle:function(e,t){e.sort(function(e,n){return e.angle!==undefined&&(n.angle-e.angle)*t})},drawLegendSymbol:Un.drawRectangle,getCenter:Wn.getCenter,getSymbol:P};rr=jt(Vn,rr),bt.pie=rr,Vn.prototype.drawDataLabels=function(){var t=this,n=t.options,r=n.cursor,i=n.dataLabels,s=t.points,o,u,a=t.hasRendered||0,f,l,c=t.chart.renderer;if(i.enabled||t._hasPointLabels)t.dlProcessOptions&&t.dlProcessOptions(i),l=t.plotGroup("dataLabelsGroup","data-labels",i.defer?U:W,i.zIndex||6),Pt(i.defer,!0)&&(l.attr({opacity:+a}),a||ln(t,"afterAnimate",function(){t.visible&&l.show(),l[n.animation?"animate":"attr"]({opacity:1},{duration:200})})),u=i,on(s,function(s){var a,h=s.dataLabel,p,d,v,m,g=s.connector,y=!0,b,w={};o=s.dlOptions||s.options&&s.options.dataLabels,a=Pt(o&&o.enabled,u.enabled);if(h&&!a)s.dataLabel=h.destroy();else if(a){i=St(u,o),b=i.style,m=i.rotation,p=s.getLabelConfig(),f=i.format?zt(i.format,p):i.formatter.call(p,i),b.color=Pt(i.color,b.color,t.color,"black");if(h)Mt(f)?(h.attr({text:f}),y=!1):(s.dataLabel=h=h.destroy(),g&&(s.connector=g.destroy()));else if(Mt(f)){d={fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth,r:i.borderRadius||0,rotation:m,padding:i.padding,zIndex:1},b.color==="contrast"&&(w.color=i.inside||i.distance<0||!!n.stacking?c.getContrast(s.color||t.color):"#000000"),r&&(w.cursor=r);for(v in d)d[v]===e&&delete d[v];h=s.dataLabel=c[m?"text":"label"](f,0,-999,i.shape,null,null,i.useHTML).attr(d).css(Et(b,w)).add(l).shadow(i.shadow)}h&&t.alignDataLabel(s,h,i,null,y)}})},Vn.prototype.alignDataLabel=function(e,t,n,r,s){var o=this.chart,u=o.inverted,a=Pt(e.plotX,-999),f=Pt(e.plotY,-999),l=t.getBBox(),c=o.renderer.fontMetrics(n.style.fontSize).b,h,p=this.visible&&(e.series.forceDL||o.isInsidePlot(a,i(f),u)||r&&o.isInsidePlot(a,u?r.x+1:r.y+r.height-1,u)),d;p&&(r=Et({x:u?o.plotWidth-f:a,y:i(u?o.plotHeight-a:f),width:0,height:0},r),Et(n,{width:l.width,height:l.height}),n.rotation?(h=o.renderer.rotCorr(c,n.rotation),t[s?"attr":"animate"]({x:r.x+n.x+r.width/2+h.x,y:r.y+n.y+r.height/2}).attr({align:n.align})):(t.align(n,null,r),d=t.alignAttr,Pt(n.overflow,"justify")==="justify"?this.justifyDataLabel(t,n,d,l,r,s):Pt(n.crop,!0)&&(p=o.isInsidePlot(d.x,d.y)&&o.isInsidePlot(d.x+l.width,d.y+l.height)),n.shape&&t.attr({anchorX:e.plotX,anchorY:e.plotY}))),p||(vn(t),t.attr({y:-999}),t.placed=!1)},Vn.prototype.justifyDataLabel=function(e,t,n,r,i,s){var o=this.chart,u=t.align,a=t.verticalAlign,f,l,c=e.box?0:e.padding||0;f=n.x+c,f<0&&(u==="right"?t.align="left":t.x=-f,l=!0),f=n.x+r.width-c,f>o.plotWidth&&(u==="left"?t.align="right":t.x=o.plotWidth-f,l=!0),f=n.y+c,f<0&&(a==="bottom"?t.verticalAlign="top":t.y=-f,l=!0),f=n.y+r.height-c,f>o.plotHeight&&(a==="top"?t.verticalAlign="bottom":t.y=o.plotHeight-f,l=!0),l&&(e.placed=!s,e.align(t,null,i))},bt.pie&&(bt.pie.prototype.drawDataLabels=function(){var e=this,t=e.data,n,r=e.chart,s=e.options.dataLabels,o=Pt(s.connectorPadding,10),l=Pt(s.connectorWidth,1),c=r.plotWidth,h=r.plotHeight,p,d,v=Pt(s.softConnector,!0),m=s.distance,g=e.center,y=g[2]/2,b=g[1],w=m>0,E,S,x,T,N=[[],[]],C,k,L,A,O,M,_=[0,0,0,0],D=function(e,t){return t.y-e.y};if(!e.visible||!s.enabled&&!e._hasPointLabels)return;Vn.prototype.drawDataLabels.apply(e),on(t,function(e){e.dataLabel&&e.visible&&N[e.half].push(e)}),O=2;while(O--){var P=[],H,B=[],j=N[O],F,I,q=j.length,R;if(!q)continue;e.sortByAngle(j,O-.5),M=T=0;while(!T&&j[M])T=j[M]&&j[M].dataLabel&&(j[M].dataLabel.getBBox().height||21),M++;if(m>0){I=a(b+y+m,r.plotHeight);for(F=u(0,b-y-m);F<=I;F+=T)P.push(F);H=P.length;if(q>H){A=[].concat(j),A.sort(D),M=q;while(M--)A[M].rank=M;M=q;while(M--)j[M].rank>=H&&j.splice(M,1);q=j.length}for(M=0;M<q;M++){n=j[M],x=n.labelPos;var z=9999,W,X;for(X=0;X<H;X++)W=f(P[X]-x[1]),W<z&&(z=W,R=X);if(R<M&&P[M]!==null)R=M;else if(H<q-M+R&&P[M]!==null){R=H-q+M;while(P[R]===null)R++}else while(P[R]===null)R++;B.push({i:R,y:P[R]}),P[R]=null}B.sort(D)}for(M=0;M<q;M++){var V,K;n=j[M],x=n.labelPos,E=n.dataLabel,L=n.visible===!1?U:"inherit",K=x[1];if(m>0){V=B.pop(),R=V.i,k=V.y;if(K>k&&P[R+1]!==null||K<k&&P[R-1]!==null)k=a(u(0,K),r.plotHeight)}else k=K;C=s.justify?g[0]+(O?-1:1)*(y+m):e.getX(k===b-y-m||k===b+y+m?K:k,O),E._attr={visibility:L,align:x[6]},E._pos={x:C+s.x+({left:o,right:-o}[x[6]]||0),y:k+s.y-10},E.connX=C,E.connY=k,this.options.size===null&&(S=E.width,C-S<o?_[3]=u(i(S-C+o),_[3]):C+S>c-o&&(_[1]=u(i(C+S-c+o),_[1])),k-T/2<0?_[0]=u(i(-k+T/2),_[0]):k+T/2>h&&(_[2]=u(i(k+T/2-h),_[2])))}}if(Jt(_)===0||this.verifyDataLabelOverflow(_))this.placeDataLabels(),w&&l&&on(this.points,function(t){p=t.connector,x=t.labelPos,E=t.dataLabel,E&&E._pos&&t.visible?(L=E._attr.visibility,C=E.connX,k=E.connY,d=v?[$,C+(x[6]==="left"?5:-5),k,"C",C,k,2*x[2]-x[4],2*x[3]-x[5],x[2],x[3],J,x[4],x[5]]:[$,C+(x[6]==="left"?5:-5),k,J,x[2],x[3],J,x[4],x[5]],p?(p.animate({d:d}),p.attr("visibility",L)):t.connector=p=e.chart.renderer.path(d).attr({"stroke-width":l,stroke:s.connectorColor||t.color||"#606060",visibility:L}).add(e.dataLabelsGroup)):p&&(t.connector=p.destroy())})},bt.pie.prototype.placeDataLabels=function(){on(this.points,function(e){var t=e.dataLabel,n;t&&e.visible&&(n=t._pos,n?(t.attr(t._attr),t[t.moved?"animate":"attr"](n),t.moved=!0):t&&t.attr({y:-999}))})},bt.pie.prototype.alignDataLabel=P,bt.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,n=this.options,r=n.center,i=n.minSize||80,s=i,o;return r[0]!==null?s=u(t[2]-u(e[1],e[3]),i):(s=u(t[2]-e[1]-e[3],i),t[0]+=(e[3]-e[1])/2),r[1]!==null?s=u(a(s,t[2]-u(e[0],e[2])),i):(s=u(a(s,t[2]-e[0]-e[2]),i),t[1]+=(e[0]-e[2])/2),s<t[2]?(t[2]=s,t[3]=Math.min(It(n.innerSize||0,s),s),this.translate(t),on(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):o=!0,o}),bt.column&&(bt.column.prototype.alignDataLabel=function(e,t,n,r,i){var s=this.chart.inverted,o=e.series,u=e.dlBox||e.shapeArgs,a=Pt(e.below,e.plotY>Pt(this.translatedThreshold,o.yAxis.len)),f=Pt(n.inside,!!this.options.stacking);u&&(r=St(u),s&&(r={x:o.yAxis.len-r.y-r.height,y:o.xAxis.len-r.x-r.width,width:r.height,height:r.width}),f||(s?(r.x+=a?0:r.width,r.width=0):(r.y+=a?r.height:0,r.height=0))),n.align=Pt(n.align,!s||f?"center":a?"right":"left"),n.verticalAlign=Pt(n.verticalAlign,s||f?"middle":a?"top":"bottom"),Vn.prototype.alignDataLabel.call(this,e,t,n,r,i)}),function(e){var t=e.Chart,n=e.each,r=e.pick,i=HighchartsAdapter.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];n(e.series,function(e){var i=e.options.dataLabels,s=e.dataLabelCollections||["dataLabel"];(i.enabled||e._hasPointLabels)&&!i.allowOverlap&&e.visible&&n(s,function(i){n(e.points,function(e){e[i]&&(e[i].labelrank=r(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[i]))})})}),e.hideOverlappingLabels(t)}t(),i(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t=e.length,r,i,s,o,u,a,f,l,c,h=function(e,t,n,r,i,s,o,u){return!(i>e+n||i+o<e||s>t+r||s+u<t)};for(i=0;i<t;i++)r=e[i],r&&(r.oldOpacity=r.opacity,r.newOpacity=1);e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)});for(i=0;i<t;i++){o=e[i];for(s=i+1;s<t;++s)u=e[s],o&&u&&o.placed&&u.placed&&o.newOpacity!==0&&u.newOpacity!==0&&(f=o.alignAttr,l=u.alignAttr,c=2*(o.box?0:o.padding),a=h(f.x,f.y,o.width-c,o.height-c,l.x,l.y,u.width-c,u.height-c),a&&((o.labelrank<u.labelrank?o:u).newOpacity=0))}n(e,function(e){var t,n;e&&(n=e.newOpacity,e.oldOpacity!==n&&e.placed&&(n?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=n,e[e.isOld?"animate":"attr"](e.alignAttr,null,t)),e.isOld=!0)})}}(wt);var ir=wt.TrackerMixin={drawTrackerPoint:function(){var t=this,n=t.chart,r=n.pointer,i=t.options.cursor,s=i&&{cursor:i},o=function(t){var r=t.target,i;while(r&&!i)i=r.point,r=r.parentNode;i!==e&&i!==n.hoverPoint&&i.onMouseOver(t)};on(t.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),t._hasTracking||(on(t.trackerGroups,function(e){t[e]&&(t[e].addClass(z+"tracker").on("mouseover",o).on("mouseout",function(e){r.onTrackerMouseOut(e)}).css(s),C&&t[e].on("touchstart",o))}),t._hasTracking=!0)},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},h=e.singlePoints,p,d,v=function(){s.hoverSeries!==e&&e.onMouseOver()},m="rgba(192,192,192,"+(S?1e-4:.002)+")";if(i&&!n){d=i+1;while(d--)r[d]===$&&r.splice(d+1,0,r[d+1]-a,r[d+2],J),(d&&r[d]===$||d===i)&&r.splice(d,0,J,r[d-2]+a,r[d-1])}for(d=0;d<h.length;d++)p=h[d],r.push($,p.plotX-a,p.plotY,J,p.plotX+a,p.plotY);f?f.attr({d:r}):(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?W:U,stroke:m,fill:n?m:V,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).add(e.group),on([e.tracker,e.markerGroup],function(e){e.addClass(z+"tracker").on("mouseover",v).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c),C&&e.on("touchstart",v)}))}};bt.column&&(Zn.prototype.drawTracker=ir.drawTrackerPoint),bt.pie&&(bt.pie.prototype.drawTracker=ir.drawTrackerPoint),bt.scatter&&(tr.prototype.drawTracker=ir.drawTrackerPoint),Et(Rn.prototype,{setItemEvents:function(e,t,n,r,i){var s=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState(G),t.css(s.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?r:i),e.setState()}).on("click",function(t){var n="legendItemClick",r=function(){e.setVisible&&e.setVisible()};t={browserEvent:t},e.firePointEvent?e.firePointEvent(n,t,r):hn(e,n,t,r)})},createCheckboxForItem:function(e){var t=this;e.checkbox=Bt("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},t.options.itemCheckboxStyle,t.chart.container),ln(e.checkbox,"click",function(t){var n=t.target;hn(e.series||e,"checkboxClick",{checked:n.checked,item:e},function(){e.select()})})}}),O.legend.itemStyle.cursor="pointer",Et(zn.prototype,{showResetZoom:function(){var e=this,t=O.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,s)},zoomOut:function(){var e=this;hn(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t=this,n,r=t.pointer,i=!1,s;!e||e.resetSelection?on(t.axes,function(e){n=e.zoom()}):on(e.xAxis.concat(e.yAxis),function(e){var t=e.axis,s=t.isXAxis;if(r[s?"zoomX":"zoomY"]||r[s?"pinchX":"pinchY"])n=t.zoom(e.min,e.max),t.displayBtn&&(i=!0)}),s=t.resetZoomButton,i&&!s?t.showResetZoom():!i&&Nt(s)&&(t.resetZoomButton=s.destroy()),n&&t.redraw(Pt(t.options.chart.animation,e&&e.animation,t.pointCount<100))},pan:function(e,t){var n=this,r=n.hoverPoints,i;r&&on(r,function(e){e.setState()}),on(t==="xy"?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],s=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],f=(s.pointRange||0)/2,l=s.getExtremes(),c=s.toValue(o-r,!0)+f,h=s.toValue(o+n[t?"plotWidth":"plotHeight"]-r,!0)-f,p=o>r;s.series.length&&(p||c>a(l.dataMin,l.min))&&(!p||h<u(l.dataMax,l.max))&&(s.setExtremes(c,h,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=r}),i&&n.redraw(!1),Ht(n.container,{cursor:"move"})}}),Et(Xn.prototype,{select:function(e,t){var n=this,r=n.series,i=r.chart;e=Pt(e,!n.selected),n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[sn(n,r.data)]=n.options,n.setState(e&&Y),t||on(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[sn(e,r.data)]=e.options,e.setState(Q),e.firePointEvent("unselect"))})})},onMouseOver:function(e,t){var n=this,r=n.series,i=r.chart,s=i.tooltip,o=i.hoverPoint;i.hoverSeries!==r&&r.onMouseOver(),o&&o!==n&&o.onMouseOut(),n.series&&(n.firePointEvent("mouseOver"),s&&(!s.shared||r.noSharedTooltip)&&s.refresh(n,e),n.setState(G),t||(i.hoverPoint=n))},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut");if(!t||sn(this,t)===-1)this.setState(),e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,t=St(e.series.options.point,e.options),n=t.events,r;e.events=n;for(r in n)ln(e,r,n[r]);this.hasImportedEvents=!0}},setState:function(e,t){var n=this,r=s(n.plotX),i=n.plotY,o=n.series,u=o.options.states,a=mn[o.type].marker&&o.options.marker,f=a&&!a.enabled,l=a&&a.states[e],c=l&&l.enabled===!1,h=o.stateMarkerGraphic,p=n.marker||{},d=o.chart,v,m=o.halo,g,y,b;e=e||Q,b=n.pointAttr[e]||o.pointAttr[e];if(e===n.state&&!t||n.selected&&e!==Y||u[e]&&u[e].enabled===!1||e&&(c||f&&l.enabled===!1)||e&&p.states&&p.states[e]&&p.states[e].enabled===!1)return;n.graphic?(v=a&&n.graphic.symbolName&&b.r,n.graphic.attr(St(b,v?{x:r-v,y:i-v,width:2*v,height:2*v}:{})),h&&h.hide()):(e&&l&&(v=l.radius,y=p.symbol||o.symbol,h&&h.currentSymbol!==y&&(h=h.destroy()),h?h[t?"animate":"attr"]({x:r-v,y:i-v}):y&&(o.stateMarkerGraphic=h=d.renderer.symbol(y,r-v,i-v,2*v,2*v).attr(b).add(o.markerGroup),h.currentSymbol=y)),h&&(h[e&&d.isInsidePlot(r,i,d.inverted)?"show":"hide"](),h.element.point=n)),g=u[e]&&u[e].halo,g&&g.size?(m||(o.halo=m=d.renderer.path().add(d.seriesGroup)),m.attr(Et({fill:Tn(n.color||o.color).setOpacity(g.opacity).get()},g.attributes))[t?"animate":"attr"]({d:n.haloPath(g.size)})):m&&m.attr({d:[]}),n.state=e},haloPath:function(e){var t=this.series,n=t.chart,r=t.getPlotBox(),i=n.inverted;return n.renderer.symbols.circle(r.translateX+(i?t.yAxis.len-this.plotY:this.plotX)-e,r.translateY+(i?t.xAxis.len-this.plotX:this.plotY)-e,e*2,e*2)}}),Et(Vn.prototype,{onMouseOver:function(){var e=this,t=e.chart,n=t.hoverSeries;n&&n!==e&&n.onMouseOut(),e.options.events.mouseOver&&hn(e,"mouseOver"),e.setState(G),t.hoverSeries=e},onMouseOut:function(){var e=this,t=e.options,n=e.chart,r=n.tooltip,i=n.hoverPoint;n.hoverSeries=null,i&&i.onMouseOut(),e&&t.events.mouseOut&&hn(e,"mouseOut"),r&&!t.stickyTracking&&(!r.shared||e.noSharedTooltip)&&r.hide(),e.setState()},setState:function(e){var t=this,n=t.options,r=t.graph,i=n.states,s=n.lineWidth,o,u=0;e=e||Q;if(t.state!==e){t.state=e;if(i[e]&&i[e].enabled===!1)return;e&&(s=i[e].lineWidth||s+(i[e].lineWidthPlus||0));if(r&&!r.dashstyle){o={"stroke-width":s},r.attr(o);while(t["zoneGraph"+u])t["zoneGraph"+u].attr(o),u+=1}}},setVisible:function(t,n){var r=this,i=r.chart,s=r.legendItem,o,u=i.options.chart.ignoreHiddenSeries,a=r.visible;r.visible=t=r.userOptions.visible=t===e?!a:t,o=t?"show":"hide",on(["group","dataLabelsGroup","markerGroup","tracker"],function(e){r[e]&&r[e][o]()}),(i.hoverSeries===r||(i.hoverPoint&&i.hoverPoint.series)===r)&&r.onMouseOut(),s&&i.legend.colorizeItem(r,t),r.isDirty=!0,r.options.stacking&&on(i.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),on(r.linkedSeries,function(e){e.setVisible(t,!1)}),u&&(i.isDirtyBox=!0),n!==!1&&i.redraw(),hn(r,o)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var n=this;n.selected=t=t===e?!n.selected:t,n.checkbox&&(n.checkbox.checked=t),hn(n,t?"select":"unselect")},drawTracker:ir.drawTrackerGraph}),Et(wt,{Color:Tn,Point:Xn,Tick:_n,Renderer:N,SVGElement:Nn,SVGRenderer:Cn,arrayMin:$t,arrayMax:Jt,charts:H,dateFormat:M,error:Gt,format:zt,pathAnim:_,getOptions:wn,hasBidiBug:x,isTouchDevice:w,setOptions:bn,addEvent:ln,removeEvent:cn,createElement:Bt,discardElement:Qt,css:Ht,each:on,map:fn,merge:St,splat:Dt,extendClass:jt,pInt:xt,svg:S,canvas:T,vml:!S&&!T,product:j,version:F})})(),define("../node_modules/highcharts-release/highcharts.src",function(){}),define("amd",["../node_modules/highcharts-release/highcharts.src"],function(e){console.log("AMD2",e)});